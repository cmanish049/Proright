///////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////
/*! HTML5 Shiv v3.6RC1 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed */
(function(j,l){var d=j.html5||{};var g=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;var b=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i;var p;var h="_html5shiv";var a=0;var n={};var e;(function(){try{var s=l.createElement("a");s.innerHTML="<xyz></xyz>";p=("hidden" in s);e=s.childNodes.length==1||(function(){(l.createElement)("a");var u=l.createDocumentFragment();return(typeof u.cloneNode=="undefined"||typeof u.createDocumentFragment=="undefined"||typeof u.createElement=="undefined");}());}catch(t){p=true;e=true;}}());function f(s,u){var v=s.createElement("p"),t=s.getElementsByTagName("head")[0]||s.documentElement;v.innerHTML="x<style>"+u+"</style>";return t.insertBefore(v.lastChild,t.firstChild);}function k(){var s=i.elements;return typeof s=="string"?s.split(" "):s;}function o(s){var t=n[s[h]];if(!t){t={};a++;s[h]=a;n[a]=t;}return t;}function m(v,s,u){if(!s){s=l;}if(e){return s.createElement(v);}if(!u){u=o(s);}var t;if(u.cache[v]){t=u.cache[v].cloneNode();}else{if(b.test(v)){t=(u.cache[v]=u.createElem(v)).cloneNode();}else{t=u.createElem(v);}}return t.canHaveChildren&&!g.test(v)?u.frag.appendChild(t):t;}function q(u,w){if(!u){u=l;}if(e){return u.createDocumentFragment();}w=w||o(u);var x=w.frag.cloneNode(),v=0,t=k(),s=t.length;for(;v<s;v++){x.createElement(t[v]);}return x;}function r(s,t){if(!t.cache){t.cache={};t.createElem=s.createElement;t.createFrag=s.createDocumentFragment;t.frag=t.createFrag();}s.createElement=function(u){if(!i.shivMethods){return t.createElem(u);}return m(u,s,t);};s.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+k().join().replace(/\w+/g,function(u){t.createElem(u);t.frag.createElement(u);return'c("'+u+'")';})+");return n}")(i,t.frag);}function c(s){if(!s){s=l;}var t=o(s);if(i.shivCSS&&!p&&!t.hasCSS){t.hasCSS=!!f(s,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}");}if(!e){r(s,t);}return s;}var i={elements:d.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:(d.shivCSS!==false),supportsUnknownElements:e,shivMethods:(d.shivMethods!==false),type:"default",shivDocument:c,createElement:m,createDocumentFragment:q};j.html5=i;c(l);}(this,document));

/* Modernizr 2.5.3 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-fontface-backgroundsize-borderimage-borderradius-boxshadow-flexbox-flexbox_legacy-hsla-multiplebgs-opacity-rgba-textshadow-cssanimations-csscolumns-generatedcontent-cssgradients-cssreflections-csstransforms-csstransforms3d-csstransitions-applicationcache-canvas-canvastext-draganddrop-hashchange-history-audio-video-indexeddb-input-inputtypes-localstorage-postmessage-sessionstorage-websockets-websqldatabase-webworkers-teststyles-testprop-testallprops-hasevent-prefixes-domprefixes
 */
/* Modernizr 2.6.1 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-flexbox_legacy-hsla-multiplebgs-rgba-textshadow-applicationcache-canvas-canvastext-history-audio-video-indexeddb-input-inputtypes-localstorage-postmessage-sessionstorage-websqldatabase-webworkers-geolocation-cssclasses
 */
/* Modernizr 2.6.1 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-fontface-backgroundsize-borderimage-borderradius-boxshadow-flexbox-flexbox_legacy-hsla-multiplebgs-opacity-rgba-textshadow-cssanimations-csscolumns-generatedcontent-cssgradients-cssreflections-csstransforms-csstransitions-applicationcache-canvas-canvastext-draganddrop-hashchange-history-audio-video-indexeddb-input-inputtypes-localstorage-postmessage-sessionstorage-websockets-websqldatabase-webworkers-geolocation-cssclasses-teststyles-testprop-testallprops-hasevent-prefixes-domprefixes
 */
;window.Modernizr=function(a,b,c){function B(a){j.cssText=a}function C(a,b){return B(n.join(a+";")+(b||""))}function D(a,b){return typeof a===b}function E(a,b){return!!~(""+a).indexOf(b)}function F(a,b){for(var d in a){var e=a[d];if(!E(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function G(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:D(f,"function")?f.bind(d||b):f}return!1}function H(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+p.join(d+" ")+d).split(" ");return D(b,"string")||D(b,"undefined")?F(e,b):(e=(a+" "+q.join(d+" ")+d).split(" "),G(e,b,c))}function I(){e.input=function(c){for(var d=0,e=c.length;d<e;d++)t[c[d]]=c[d]in k;return t.list&&(t.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),t}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var d=0,e,f,h,i=a.length;d<i;d++)k.setAttribute("type",f=a[d]),e=k.type!=="text",e&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(k,null).WebkitAppearance!=="textfield"&&k.offsetHeight!==0,g.removeChild(k)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=k.checkValidity&&k.checkValidity()===!1:e=k.value!=l)),s[a[d]]=!!e;return s}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d="2.6.1",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l=":)",m={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r={},s={},t={},u=[],v=u.slice,w,x=function(a,c,d,e){var f,i,j,k=b.createElement("div"),l=b.body,m=l?l:b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),k.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),k.id=h,(l?k:m).innerHTML+=f,m.appendChild(k),l||(m.style.background="",g.appendChild(m)),i=c(k,a),l?k.parentNode.removeChild(k):m.parentNode.removeChild(m),!!i},y=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=D(e[d],"function"),D(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),z={}.hasOwnProperty,A;!D(z,"undefined")&&!D(z.call,"undefined")?A=function(a,b){return z.call(a,b)}:A=function(a,b){return b in a&&D(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=v.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(v.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(v.call(arguments)))};return e}),r.flexbox=function(){return H("flexWrap")},r.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},r.canvastext=function(){return!!e.canvas&&!!D(b.createElement("canvas").getContext("2d").fillText,"function")},r.geolocation=function(){return"geolocation"in navigator},r.postmessage=function(){return!!a.postMessage},r.websqldatabase=function(){return!!a.openDatabase},r.indexedDB=function(){return!!H("indexedDB",a)},r.hashchange=function(){return y("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},r.history=function(){return!!a.history&&!!history.pushState},r.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},r.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},r.rgba=function(){return B("background-color:rgba(150,255,150,.5)"),E(j.backgroundColor,"rgba")},r.hsla=function(){return B("background-color:hsla(120,40%,100%,.5)"),E(j.backgroundColor,"rgba")||E(j.backgroundColor,"hsla")},r.multiplebgs=function(){return B("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(j.background)},r.backgroundsize=function(){return H("backgroundSize")},r.borderimage=function(){return H("borderImage")},r.borderradius=function(){return H("borderRadius")},r.boxshadow=function(){return H("boxShadow")},r.textshadow=function(){return b.createElement("div").style.textShadow===""},r.opacity=function(){return C("opacity:.55"),/^0.55$/.test(j.opacity)},r.cssanimations=function(){return H("animationName")},r.csscolumns=function(){return H("columnCount")},r.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return B((a+"-webkit- ".split(" ").join(b+a)+n.join(c+a)).slice(0,-a.length)),E(j.backgroundImage,"gradient")},r.cssreflections=function(){return H("boxReflect")},r.csstransforms=function(){return!!H("transform")},r.csstransitions=function(){return H("transition")},r.fontface=function(){var a;return x('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&g.indexOf(d.split(" ")[0])===0}),a},r.generatedcontent=function(){var a;return x(['#modernizr:after{content:"',l,'";visibility:hidden}'].join(""),function(b){a=b.offsetHeight>=1}),a},r.video=function(){var a=b.createElement("video"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(d){}return c},r.audio=function(){var a=b.createElement("audio"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(d){}return c},r.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return!1}},r.sessionstorage=function(){try{return sessionStorage.setItem(h,h),sessionStorage.removeItem(h),!0}catch(a){return!1}},r.webworkers=function(){return!!a.Worker},r.applicationcache=function(){return!!a.applicationCache};for(var J in r)A(r,J)&&(w=J.toLowerCase(),e[w]=r[J](),u.push((e[w]?"":"no-")+w));return e.input||I(),e.addTest=function(a,b){if(typeof a=="object")for(var d in a)A(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},B(""),i=k=null,e._version=d,e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.hasEvent=y,e.testProp=function(a){return F([a])},e.testAllProps=H,e.testStyles=x,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+u.join(" "):""),e}(this,this.document);

/*!
* Bootstrap.js by @fat & @mdo
* Copyright 2012 Twitter, Inc.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
!function(e){e(function(){"use strict";e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()},e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e(function(){e("body").on("click.alert.data-api",t,n.prototype.close)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.parent('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(function(){e("body").on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),r=n.parent().children(),i=r.index(n),s=this;if(t>r.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){s.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(r[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f=e.Event("slide",{relatedTarget:i[0]});this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u]();if(i.hasClass("active"))return;if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}},e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e(function(){e("body").on("click.carousel.data-api","[data-slide]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=!i.data("modal")&&e.extend({},i.data(),n.data());i.carousel(s),t.preventDefault()})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning)return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning)return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e(function(){e("body").on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})})}(window.jQuery),!function(e){"use strict";function r(){i(e(t)).removeClass("open")}function i(t){var n=t.attr("data-target"),r;return n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),r=e(n),r.length||(r=t.parent()),r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;return s=i(n),o=s.hasClass("open"),r(),o||(s.toggleClass("open"),n.focus()),!1},keydown:function(t){var n,r,s,o,u,a;if(!/(38|40|27)/.test(t.keyCode))return;n=e(this),t.preventDefault(),t.stopPropagation();if(n.is(".disabled, :disabled"))return;o=i(n),u=o.hasClass("open");if(!u||u&&t.keyCode==27)return n.click();r=e("[role=menu] li:not(.divider) a",o);if(!r.length)return;a=r.index(r.filter(":focus")),t.keyCode==38&&a>0&&a--,t.keyCode==40&&a<r.length-1&&a++,~a||(a=0),r.eq(a).focus()}},e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e(function(){e("html").on("click.dropdown.data-api touchstart.dropdown.data-api",r),e("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;e("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1).focus(),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,e("body").removeClass("modal-open"),this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}},e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.css(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.remove()})}var t=this,n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.remove(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content > *")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),r=/^#\w/.test(n)&&e(n);return r&&r.length&&[[r.position().top,n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active a").last()[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=e(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),(e.browser.webkit||e.browser.msie)&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=!~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}},e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e(function(){e("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault(),n.typeahead(n.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))},e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery);

/**
 * jquery cookie plugin
 */
jQuery.cookie=function(b,j,m){if(typeof j!="undefined"){m=m||{};if(j===null){j="";m.expires=-1;}var e="";if(m.expires&&(typeof m.expires=="number"||m.expires.toUTCString)){var f;if(typeof m.expires=="number"){f=new Date();f.setTime(f.getTime()+(m.expires*24*60*60*1000));}else{f=m.expires;}e="; expires="+f.toUTCString();}var l=m.path?"; path="+(m.path):"";var g=m.domain?"; domain="+(m.domain):"";var a=m.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),e,l,g,a].join("");}else{var d=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var h=0;h<k.length;h++){var c=jQuery.trim(k[h]);if(c.substring(0,b.length+1)==(b+"=")){d=decodeURIComponent(c.substring(b.length+1));break;}}}return d;}};


/*
	Masked Input plugin for jQuery
	Copyright (c) 2007-2011 Josh Bush (digitalbush.com)
	Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license) 
	Version: 1.3
*/
(function(a){var b=(a.browser.msie?"paste":"input")+".mask",c=window.orientation!=undefined;a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn"},a.fn.extend({caret:function(a,b){if(this.length!=0){if(typeof a=="number"){b=typeof b=="number"?b:a;return this.each(function(){if(this.setSelectionRange)this.setSelectionRange(a,b);else if(this.createTextRange){var c=this.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}})}if(this[0].setSelectionRange)a=this[0].selectionStart,b=this[0].selectionEnd;else if(document.selection&&document.selection.createRange){var c=document.selection.createRange();a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length}return{begin:a,end:b}}},unmask:function(){return this.trigger("unmask")},mask:function(d,e){if(!d&&this.length>0){var f=a(this[0]);return f.data(a.mask.dataName)()}e=a.extend({placeholder:"_",completed:null},e);var g=a.mask.definitions,h=[],i=d.length,j=null,k=d.length;a.each(d.split(""),function(a,b){b=="?"?(k--,i=a):g[b]?(h.push(new RegExp(g[b])),j==null&&(j=h.length-1)):h.push(null)});return this.trigger("unmask").each(function(){function v(a){var b=f.val(),c=-1;for(var d=0,g=0;d<k;d++)if(h[d]){l[d]=e.placeholder;while(g++<b.length){var m=b.charAt(g-1);if(h[d].test(m)){l[d]=m,c=d;break}}if(g>b.length)break}else l[d]==b.charAt(g)&&d!=i&&(g++,c=d);if(!a&&c+1<i)f.val(""),t(0,k);else if(a||c+1>=i)u(),a||f.val(f.val().substring(0,c+1));return i?d:j}function u(){return f.val(l.join("")).val()}function t(a,b){for(var c=a;c<b&&c<k;c++)h[c]&&(l[c]=e.placeholder)}function s(a){var b=a.which,c=f.caret();if(a.ctrlKey||a.altKey||a.metaKey||b<32)return!0;if(b){c.end-c.begin!=0&&(t(c.begin,c.end),p(c.begin,c.end-1));var d=n(c.begin-1);if(d<k){var g=String.fromCharCode(b);if(h[d].test(g)){q(d),l[d]=g,u();var i=n(d);f.caret(i),e.completed&&i>=k&&e.completed.call(f)}}return!1}}function r(a){var b=a.which;if(b==8||b==46||c&&b==127){var d=f.caret(),e=d.begin,g=d.end;g-e==0&&(e=b!=46?o(e):g=n(e-1),g=b==46?n(g):g),t(e,g),p(e,g-1);return!1}if(b==27){f.val(m),f.caret(0,v());return!1}}function q(a){for(var b=a,c=e.placeholder;b<k;b++)if(h[b]){var d=n(b),f=l[b];l[b]=c;if(d<k&&h[d].test(f))c=f;else break}}function p(a,b){if(!(a<0)){for(var c=a,d=n(b);c<k;c++)if(h[c]){if(d<k&&h[c].test(l[d]))l[c]=l[d],l[d]=e.placeholder;else break;d=n(d)}u(),f.caret(Math.max(j,a))}}function o(a){while(--a>=0&&!h[a]);return a}function n(a){while(++a<=k&&!h[a]);return a}var f=a(this),l=a.map(d.split(""),function(a,b){if(a!="?")return g[a]?e.placeholder:a}),m=f.val();f.data(a.mask.dataName,function(){return a.map(l,function(a,b){return h[b]&&a!=e.placeholder?a:null}).join("")}),f.attr("readonly")||f.one("unmask",function(){f.unbind(".mask").removeData(a.mask.dataName)}).bind("focus.mask",function(){m=f.val();var b=v();u();var c=function(){b==d.length?f.caret(0,b):f.caret(b)};(a.browser.msie?c:function(){setTimeout(c,0)})()}).bind("blur.mask",function(){v(),f.val()!=m&&f.change()}).bind("keydown.mask",r).bind("keypress.mask",s).bind(b,function(){setTimeout(function(){f.caret(v(!0))},0)}),v()})}})})(jQuery);

/*
 * Inline Form Validation Engine 2.5.5.1, jQuery plugin
 *
 * Copyright(c) 2010, Cedric Dugas
 * http://www.position-absolute.com
 *
 * 2.0 Rewrite by Olivier Refalo
 * http://www.crionics.com
 *
 * Form validation engine allowing custom regex rules to be added.
 * Licensed under the MIT License
 */
(function(b){var a={init:function(c){var d=this;if(!d.data("jqv")||d.data("jqv")==null){c=a._saveOptions(d,c);b(".formError").live("click",function(){b(this).fadeOut(150,function(){b(this).parent(".formErrorOuter").remove();b(this).remove();});});}return this;},attach:function(e){if(!b(this).is("form")){alert("Sorry, jqv.attach() only applies to a form");return this;}var d=this;var c;if(e){c=a._saveOptions(d,e);}else{c=d.data("jqv");}c.validateAttribute=(d.find("[data-validation-engine*=validate]").length)?"data-validation-engine":"class";if(c.binded){d.find("["+c.validateAttribute+"*=validate]").not("[type=checkbox]").not("[type=radio]").not(".datepicker").bind(c.validationEventTrigger,a._onFieldEvent);d.find("["+c.validateAttribute+"*=validate][type=checkbox],["+c.validateAttribute+"*=validate][type=radio]").bind("click",a._onFieldEvent);d.find("["+c.validateAttribute+"*=validate][class*=datepicker]").bind(c.validationEventTrigger,{delay:300},a._onFieldEvent);}if(c.autoPositionUpdate){b(window).bind("resize",{noAnimation:true,formElem:d},a.updatePromptsPosition);}d.bind("submit",a._onSubmitEvent);return this;},detach:function(){if(!b(this).is("form")){alert("Sorry, jqv.detach() only applies to a form");return this;}var d=this;var c=d.data("jqv");d.find("["+c.validateAttribute+"*=validate]").not("[type=checkbox]").unbind(c.validationEventTrigger,a._onFieldEvent);d.find("["+c.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").unbind("click",a._onFieldEvent);d.unbind("submit",a.onAjaxFormComplete);d.find("["+c.validateAttribute+"*=validate]").not("[type=checkbox]").die(c.validationEventTrigger,a._onFieldEvent);d.find("["+c.validateAttribute+"*=validate][type=checkbox]").die("click",a._onFieldEvent);d.die("submit",a.onAjaxFormComplete);d.removeData("jqv");if(c.autoPositionUpdate){b(window).unbind("resize",a.updatePromptsPosition);}return this;},validate:function(){if(b(this).is("form")){return a._validateFields(this);}else{var e=b(this).closest("form");var c=e.data("jqv");var d=a._validateField(b(this),c);if(c.onSuccess&&c.InvalidFields.length==0){c.onSuccess();}else{if(c.onFailure&&c.InvalidFields.length>0){c.onFailure();}}return d;}},updatePromptsPosition:function(f){if(f&&this==window){var e=f.data.formElem;var c=f.data.noAnimation;}else{var e=b(this.closest("form"));}var d=e.data("jqv");e.find("["+d.validateAttribute+"*=validate]").not(":disabled").each(function(){var i=b(this);var g=a._getPrompt(i);var h=b(g).find(".formErrorContent").html();if(g){a._updatePrompt(i,b(g),h,undefined,false,d,c);}});return this;},showPrompt:function(d,f,h,e){var g=this.closest("form");var c=g.data("jqv");if(!c){c=a._saveOptions(this,c);}if(h){c.promptPosition=h;}c.showArrow=e==true;a._showPrompt(this,d,f,false,c);return this;},hide:function(){var e=b(this).closest("form");if(e.length==0){return this;}var d=e.data("jqv");var c;if(b(this).is("form")){c="parentForm"+a._getClassName(b(this).attr("id"));}else{c=a._getClassName(b(this).attr("id"))+"formError";}b("."+c).fadeTo(d.fadeDuration,0.3,function(){b(this).parent(".formErrorOuter").remove();b(this).remove();});return this;},hideAll:function(){var d=this;var c=d.data("jqv");var e=c?c.fadeDuration:0.3;b(".formError").fadeTo(e,0.3,function(){b(this).parent(".formErrorOuter").remove();b(this).remove();});return this;},_onFieldEvent:function(e){var f=b(this);var d=f.closest("form");var c=d.data("jqv");window.setTimeout(function(){a._validateField(f,c);if(c.InvalidFields.length==0&&c.onSuccess){c.onSuccess();}else{if(c.InvalidFields.length>0&&c.onFailure){c.onFailure();}}},(e.data)?e.data.delay:0);},_onSubmitEvent:function(){var e=b(this);var c=e.data("jqv");var d=a._validateFields(e,c.ajaxFormValidation);if(d&&c.ajaxFormValidation){a._validateFormWithAjax(e,c);return false;}if(c.onValidationComplete){c.onValidationComplete(e,d);return false;}return d;},_checkAjaxStatus:function(d){var c=true;b.each(d.ajaxValidCache,function(e,f){if(!f){c=false;return false;}});return c;},_validateFields:function(e,m){var n=e.data("jqv");var f=false;e.trigger("jqv.form.validating");var o=null;e.find("["+n.validateAttribute+"*=validate]").not(":disabled").each(function(){var q=b(this);var p=[];if(b.inArray(q.attr("name"),p)<0){f|=a._validateField(q,n,m);if(f&&o==null){if(q.is(":hidden")&&n.prettySelect){o=q=e.find("#"+n.usePrefix+q.attr("id")+n.useSuffix);}else{o=q;}}if(n.doNotShowAllErrosOnSubmit){return false;}p.push(q.attr("name"));}});e.trigger("jqv.form.result",[f]);if(f){if(n.scroll){var l=o.offset().top;var h=o.offset().left;var j=n.promptPosition;if(typeof(j)=="string"&&j.indexOf(":")!=-1){j=j.substring(0,j.indexOf(":"));}if(j!="bottomRight"&&j!="bottomLeft"){var i=a._getPrompt(o);l=i.offset().top;}if(n.isOverflown){var c=b(n.overflownDIV);if(!c.length){return false;}var d=c.scrollTop();var g=-parseInt(c.offset().top);l+=d+g-5;var k=b(n.overflownDIV+":not(:animated)");k.animate({scrollTop:l},1100,function(){if(n.focusFirstField){o.focus();}});}else{b("html:not(:animated),body:not(:animated)").animate({scrollTop:l,scrollLeft:h},1100,function(){if(n.focusFirstField){o.focus();}});}}else{if(n.focusFirstField){o.focus();}}return false;}return true;},_validateFormWithAjax:function(e,d){var f=e.serialize();var c=(d.ajaxFormValidationURL)?d.ajaxFormValidationURL:e.attr("action");b.ajax({type:d.ajaxFormValidationMethod,url:c,cache:false,dataType:"json",data:f,form:e,methods:a,options:d,beforeSend:function(){return d.onBeforeAjaxFormValidation(e,d);},error:function(g,h){a._ajaxError(g,h);},success:function(l){if(l!==true){var j=false;for(var k=0;k<l.length;k++){var m=l[k];var o=m[0];var h=b(b("#"+o)[0]);if(h.length==1){var n=m[2];if(m[1]==true){if(n==""||!n){a._closePrompt(h);}else{if(d.allrules[n]){var g=d.allrules[n].alertTextOk;if(g){n=g;}}a._showPrompt(h,n,"pass",false,d,true);}}else{j|=true;if(d.allrules[n]){var g=d.allrules[n].alertText;if(g){n=g;}}a._showPrompt(h,n,"",false,d,true);}}}d.onAjaxFormComplete(!j,e,l,d);}else{d.onAjaxFormComplete(true,e,"",d);}}});},_validateField:function(c,k,p){if(!c.attr("id")){c.attr("id","form-validation-field-"+b.validationEngine.fieldIdCounter);++b.validationEngine.fieldIdCounter;}if(c.is(":hidden")&&!k.prettySelect||c.parent().is(":hidden")){return false;}var r=c.attr(k.validateAttribute);var v=/validate\[(.*)\]/.exec(r);if(!v){return false;}var s=v[1];var o=s.split(/\[|,|\]/);var l=false;var h=c.attr("name");var g="";var q=false;k.isError=false;k.showArrow=true;var d=b(c.closest("form"));for(var u=0;u<o.length;u++){o[u]=o[u].replace(" ","");var e=undefined;switch(o[u]){case"required":q=true;e=a._getErrorMessage(d,c,o[u],o,u,k,a._required);break;case"custom":e=a._getErrorMessage(d,c,o[u],o,u,k,a._custom);break;case"groupRequired":var t="["+k.validateAttribute+"*="+o[u+1]+"]";var f=d.find(t).eq(0);if(f[0]!=c[0]){a._validateField(f,k,p);k.showArrow=true;continue;}e=a._getErrorMessage(d,c,o[u],o,u,k,a._groupRequired);if(e){q=true;}k.showArrow=false;break;case"ajax":if(!p){a._ajax(c,o,u,k);l=true;}break;case"minSize":e=a._getErrorMessage(d,c,o[u],o,u,k,a._minSize);break;case"maxSize":e=a._getErrorMessage(d,c,o[u],o,u,k,a._maxSize);break;case"min":e=a._getErrorMessage(d,c,o[u],o,u,k,a._min);break;case"max":e=a._getErrorMessage(d,c,o[u],o,u,k,a._max);break;case"past":e=a._past(d,c,o,u,k);break;case"future":e=a._future(d,c,o,u,k);break;case"dateRange":var t="["+k.validateAttribute+"*="+o[u+1]+"]";var f=d.find(t).eq(0);var j=d.find(t).eq(1);if(f[0].value||j[0].value){e=a._dateRange(f,j,o,u,k);}if(e){q=true;}k.showArrow=false;break;case"dateTimeRange":var t="["+k.validateAttribute+"*="+o[u+1]+"]";var f=d.find(t).eq(0);var j=d.find(t).eq(1);if(f[0].value||j[0].value){e=a._dateTimeRange(f,j,o,u,k);}if(e){q=true;}k.showArrow=false;break;case"maxCheckbox":c=b(d.find("input[name='"+h+"']"));e=a._getErrorMessage(d,c,o[u],o,u,k,a._maxCheckbox);break;case"minCheckbox":c=b(d.find("input[name='"+h+"']"));e=a._getErrorMessage(d,c,o[u],o,u,k,a._minCheckbox);break;case"equals":e=a._getErrorMessage(d,c,o[u],o,u,k,a._equals);break;case"funcCall":e=a._getErrorMessage(d,c,o[u],o,u,k,a._funcCall);break;case"creditCard":e=a._getErrorMessage(d,c,o[u],o,u,k,a._creditCard);break;case"condRequired":e=a._condRequired(c,o,u,k);if(e!==undefined){q=true;}break;default:}if(e!==undefined){g+=e+"<br/>";k.isError=true;}}if(!q&&c.val().length<1){k.isError=false;}var m=c.prop("type");if((m=="radio"||m=="checkbox")&&d.find("input[name='"+h+"']").size()>1){c=b(d.find("input[name='"+h+"'][type!=hidden]:first"));k.showArrow=false;}if(c.is(":hidden")&&k.prettySelect){c=d.find("#"+k.usePrefix+c.attr("id")+k.useSuffix);}if(k.isError){a._showPrompt(c,g,"",false,k);}else{if(!l){a._closePrompt(c);}}if(!l){c.trigger("jqv.field.result",[c,k.isError,g]);}var n=b.inArray(c[0],k.InvalidFields);if(n==-1){if(k.isError){k.InvalidFields.push(c[0]);}}else{if(!k.isError){k.InvalidFields.splice(n,1);}}return k.isError;},_getErrorMessage:function(d,n,l,p,h,q,m){if(l=="custom"){var e=jQuery.inArray(l,p)+1;var o=p[e];l="custom["+o+"]";}var c=b(n).attr("id");var f=(n.attr("data-validation-engine"))?n.attr("data-validation-engine"):n.attr("class");var j=f.split(" ");var g=a._getCustomErrorMessage(c,j,l,q);var k;if(l=="future"||l=="past"||l=="maxCheckbox"||l=="minCheckbox"){k=m(d,n,p,h,q);}else{k=m(n,p,h,q);}if(k!=undefined&&g){return g;}return k;},_getCustomErrorMessage:function(j,f,h,d){var c=false;j="#"+j;if(typeof d.custom_error_messages[j]!="undefined"&&typeof d.custom_error_messages[j][h]!="undefined"){c=d.custom_error_messages[j][h]["message"];}else{if(f.length>0){for(var e=0;e<f.length&&f.length>0;e++){var g="."+f[e];if(typeof d.custom_error_messages[g]!="undefined"&&typeof d.custom_error_messages[g][h]!="undefined"){c=d.custom_error_messages[g][h]["message"];break;}}}}if(!c&&typeof d.custom_error_messages[h]!="undefined"&&typeof d.custom_error_messages[h]["message"]!="undefined"){c=d.custom_error_messages[h]["message"];}return c;},_required:function(g,h,e,d){switch(g.prop("type")){case"text":case"password":case"textarea":case"file":case"select-one":case"select-multiple":default:if(!b.trim(g.val())||g.val()==g.attr("data-validation-placeholder")){return d.allrules[h[e]].alertText;}break;case"radio":case"checkbox":var f=g.closest("form");var c=g.attr("name");if(f.find("input[name='"+c+"']:checked").size()==0){if(f.find("input[name='"+c+"']").size()==1){return d.allrules[h[e]].alertTextCheckboxe;}else{return d.allrules[h[e]].alertTextCheckboxMultiple;}}break;}},_groupRequired:function(f,h,d,c){var g="["+c.validateAttribute+"*="+h[d+1]+"]";var e=false;f.closest("form").find(g).each(function(){if(!a._required(b(this),h,d,c)){e=true;return false;}});if(!e){return c.allrules[h[d]].alertText;}},_custom:function(j,k,d,l){var c=k[d+1];var g=l.allrules[c];var h;if(!g){alert("jqv:custom rule not found - "+c);return;}if(g.regex){var f=g.regex;if(!f){alert("jqv:custom regex not found - "+c);return;}var e=new RegExp(f);if(!e.test(j.val())){return l.allrules[c].alertText;}}else{if(g.func){h=g.func;if(typeof(h)!=="function"){alert("jqv:custom parameter 'function' is no function - "+c);return;}if(!h(j,k,d,l)){return l.allrules[c].alertText;}}else{alert("jqv:custom type not allowed "+c);return;}}},_funcCall:function(j,k,d,c){var h=k[d+1];var f;if(h.indexOf(".")>-1){var g=h.split(".");var e=window;while(g.length){e=e[g.shift()];}f=e;}else{f=window[h]||c.customFunctions[h];}if(typeof(f)=="function"){return f(j,k,d,c);}},_equals:function(f,g,e,d){var c=g[e+1];if(f.val()!=b("#"+c).val()){return d.allrules.equals.alertText;}},_maxSize:function(h,j,f,e){var d=j[f+1];var c=h.val().length;if(c>d){var g=e.allrules.maxSize;return g.alertText+d+g.alertText2;}},_minSize:function(h,j,f,d){var e=j[f+1];var c=h.val().length;if(c<e){var g=d.allrules.minSize;return g.alertText+e+g.alertText2;}},_min:function(h,j,f,d){var e=parseFloat(j[f+1]);var c=parseFloat(h.val());if(c<e){var g=d.allrules.min;if(g.alertText2){return g.alertText+e+g.alertText2;}return g.alertText+e;}},_max:function(h,j,f,e){var d=parseFloat(j[f+1]);var c=parseFloat(h.val());if(c>d){var g=e.allrules.max;if(g.alertText2){return g.alertText+d+g.alertText2;}return g.alertText+d;}},_past:function(d,j,k,e,m){var c=k[e+1];var g=b(d.find("input[name='"+c.replace(/^#+/,"")+"']"));var f;if(c.toLowerCase()=="now"){f=new Date();}else{if(undefined!=g.val()){if(g.is(":disabled")){return;}f=a._parseDate(g.val());}else{f=a._parseDate(c);}}var l=a._parseDate(j.val());if(l>f){var h=m.allrules.past;if(h.alertText2){return h.alertText+a._dateToString(f)+h.alertText2;}return h.alertText+a._dateToString(f);}},_future:function(d,j,k,e,m){var c=k[e+1];var g=b(d.find("input[name='"+c.replace(/^#+/,"")+"']"));var f;if(c.toLowerCase()=="now"){f=new Date();}else{if(undefined!=g.val()){if(g.is(":disabled")){return;}f=a._parseDate(g.val());}else{f=a._parseDate(c);}}var l=a._parseDate(j.val());if(l<f){var h=m.allrules.future;if(h.alertText2){return h.alertText+a._dateToString(f)+h.alertText2;}return h.alertText+a._dateToString(f);}},_isDate:function(d){var c=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return c.test(d);},_isDateTime:function(d){var c=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return c.test(d);},_dateCompare:function(d,c){return(new Date(d.toString())<new Date(c.toString()));},_dateRange:function(g,d,f,e,c){if((!g[0].value&&d[0].value)||(g[0].value&&!d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2;}if(!a._isDate(g[0].value)||!a._isDate(d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2;}if(!a._dateCompare(g[0].value,d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2;}},_dateTimeRange:function(g,d,f,e,c){if((!g[0].value&&d[0].value)||(g[0].value&&!d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2;}if(!a._isDateTime(g[0].value)||!a._isDateTime(d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2;}if(!a._dateCompare(g[0].value,d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2;}},_maxCheckbox:function(h,j,k,g,f){var d=k[g+1];var e=j.attr("name");var c=h.find("input[name='"+e+"']:checked").size();if(c>d){f.showArrow=false;if(f.allrules.maxCheckbox.alertText2){return f.allrules.maxCheckbox.alertText+" "+d+" "+f.allrules.maxCheckbox.alertText2;}return f.allrules.maxCheckbox.alertText;}},_minCheckbox:function(h,j,k,g,f){var d=k[g+1];var e=j.attr("name");var c=h.find("input[name='"+e+"']:checked").size();if(c<d){f.showArrow=false;return f.allrules.minCheckbox.alertText+" "+d+" "+f.allrules.minCheckbox.alertText2;}},_creditCard:function(k,l,f,n){var d=false,m=k.val().replace(/ +/g,"").replace(/-+/g,"");var c=m.length;if(c>=14&&c<=16&&parseInt(m)>0){var g=0,f=c-1,j=1,h,e=new String();do{h=parseInt(m.charAt(f));e+=(j++%2==0)?h*2:h;}while(--f>=0);for(f=0;f<e.length;f++){g+=parseInt(e.charAt(f));}d=g%10==0;}if(!d){return n.allrules.creditCard.alertText;}},_ajax:function(o,r,j,s){var q=r[j+1];var n=s.allrules[q];var e=n.extraData;var l=n.extraDataDynamic;var h={fieldId:o.attr("id"),fieldValue:o.val()};if(typeof e==="object"){b.extend(h,e);}else{if(typeof e==="string"){var k=e.split("&");for(var j=0;j<k.length;j++){var p=k[j].split("=");if(p[0]&&p[0]){h[p[0]]=p[1];}}}}if(l){var g=[];var m=String(l).split(",");for(var j=0;j<m.length;j++){var c=m[j];if(b(c).length){var d=o.closest("form").find(c).val();var f=c.replace("#","")+"="+escape(d);h[c.replace("#","")]=d;}}}if(!s.isError){b.ajax({type:s.ajaxFormValidationMethod,url:n.url,cache:false,dataType:"json",data:h,field:o,rule:n,methods:a,options:s,beforeSend:function(){var i=n.alertTextLoad;if(i){a._showPrompt(o,i,"load",true,s);}},error:function(i,t){a._ajaxError(i,t);},success:function(v){var x=v[0];var u=b(b("input[id='"+x+"']")[0]);if(u.length==1){var t=v[1];var w=v[2];if(!t){s.ajaxValidCache[x]=false;s.isError=true;if(w){if(s.allrules[w]){var i=s.allrules[w].alertText;if(i){w=i;}}}else{w=n.alertText;}a._showPrompt(u,w,"",true,s);}else{if(s.ajaxValidCache[x]!==undefined){s.ajaxValidCache[x]=true;}if(w){if(s.allrules[w]){var i=s.allrules[w].alertTextOk;if(i){w=i;}}}else{w=n.alertTextOk;}if(w){a._showPrompt(u,w,"pass",true,s);}else{a._closePrompt(u);}}}u.trigger("jqv.field.result",[u,s.isError,w]);}});}},_ajaxError:function(c,d){if(c.status==0&&d==null){alert("The page is not served from a server! ajax call failed");}else{if(typeof console!="undefined"){console.log("Ajax error: "+c.status+" "+d);}}},_dateToString:function(c){return c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate();},_parseDate:function(e){var c=e.split("-");if(c==e){c=e.split("/");}return new Date(c[0],(c[1]-1),c[2]);},_showPrompt:function(i,g,h,f,e,d){var c=a._getPrompt(i);if(d){c=false;}if(c){a._updatePrompt(i,c,g,h,f,e);}else{a._buildPrompt(i,g,h,f,e);}},_buildPrompt:function(h,c,f,j,k){var d=b("<div>");d.addClass(a._getClassName(h.attr("id"))+"formError");d.addClass("parentForm"+a._getClassName(h.parents("form").attr("id")));d.addClass("formError");switch(f){case"pass":d.addClass("greenPopup");break;case"load":d.addClass("blackPopup");break;default:}if(j){d.addClass("ajaxed");}var l=b("<div>").addClass("formErrorContent").html(c).appendTo(d);if(k.showArrow){var i=b("<div>").addClass("formErrorArrow");var e=h.data("promptPosition")||k.promptPosition;if(typeof(e)=="string"){var g=e.indexOf(":");if(g!=-1){e=e.substring(0,g);}}switch(e){case"bottomLeft":case"bottomRight":d.find(".formErrorContent").before(i);i.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":i.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>');d.append(i);break;}}if(h.closest(".ui-dialog").length){d.addClass("formErrorInsideDialog");}d.css({opacity:0,position:"absolute"});h.before(d);var g=a._calculatePosition(h,d,k);d.css({top:g.callerTopPosition,left:g.callerleftPosition,marginTop:g.marginTopSize,opacity:0}).data("callerField",h);if(k.autoHidePrompt){setTimeout(function(){d.animate({opacity:0},function(){d.closest(".formErrorOuter").remove();d.remove();});},k.autoHideDelay);}return d.animate({opacity:0.87});},_updatePrompt:function(i,d,c,g,j,k,e){if(d){if(typeof g!=="undefined"){if(g=="pass"){d.addClass("greenPopup");}else{d.removeClass("greenPopup");}if(g=="load"){d.addClass("blackPopup");}else{d.removeClass("blackPopup");}}if(j){d.addClass("ajaxed");}else{d.removeClass("ajaxed");}d.find(".formErrorContent").html(c);var h=a._calculatePosition(i,d,k);var f={top:h.callerTopPosition,left:h.callerleftPosition,marginTop:h.marginTopSize};if(e){d.css(f);}else{d.animate(f);}}},_closePrompt:function(d){var c=a._getPrompt(d);if(c){c.fadeTo("fast",0,function(){c.parent(".formErrorOuter").remove();c.remove();});}},closePrompt:function(c){return a._closePrompt(c);},_getPrompt:function(e){var f=b(e).closest("form").attr("id");var d=a._getClassName(e.attr("id"))+"formError";var c=b("."+a._escapeExpression(d)+".parentForm"+f)[0];if(c){return b(c);}},_escapeExpression:function(c){return c.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1");},isRTL:function(e){var f=b(document);var c=b("body");var d=(e&&e.hasClass("rtl"))||(e&&(e.attr("dir")||"").toLowerCase()==="rtl")||f.hasClass("rtl")||(f.attr("dir")||"").toLowerCase()==="rtl"||c.hasClass("rtl")||(c.attr("dir")||"").toLowerCase()==="rtl";return Boolean(d);},_calculatePosition:function(m,f,r){var e,n,k;var g=m.width();var c=m.position().left;var p=m.position().top;var d=m.height();var q=f.height();e=n=0;k=-q;var j=m.data("promptPosition")||r.promptPosition;var i="";var h="";var o=0;var l=0;if(typeof(j)=="string"){if(j.indexOf(":")!=-1){i=j.substring(j.indexOf(":")+1);j=j.substring(0,j.indexOf(":"));if(i.indexOf(",")!=-1){h=i.substring(i.indexOf(",")+1);i=i.substring(0,i.indexOf(","));l=parseInt(h);if(isNaN(l)){l=0;}}o=parseInt(i);if(isNaN(i)){i=0;}}}switch(j){default:case"topRight":n+=c+g-30;e+=p;break;case"topLeft":e+=p;n+=c;break;case"centerRight":e=p+4;k=0;n=c+m.outerWidth(true)+5;break;case"centerLeft":n=c-(f.width()+2);e=p+4;k=0;break;case"bottomLeft":e=p+m.height()+5;k=0;n=c;break;case"bottomRight":n=c+g-30;e=p+m.height()+5;k=0;}n+=o;e+=l;return{callerTopPosition:e+"px",callerleftPosition:n+"px",marginTopSize:k+"px"};},_saveOptions:function(e,d){if(b.validationEngineLanguage){var c=b.validationEngineLanguage.allRules;}else{b.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");}b.validationEngine.defaults.allrules=c;var f=b.extend(true,{},b.validationEngine.defaults,d);e.data("jqv",f);return f;},_getClassName:function(c){if(c){return c.replace(/:/g,"_").replace(/\./g,"_");}},_condRequired:function(g,h,e,d){var c,f;for(c=(e+1);c<h.length;c++){f=jQuery("#"+h[c]).first();if(f.length&&a._required(f,["required"],0,d)==undefined){return a._required(g,["required"],0,d);}}}};b.fn.validationEngine=function(d){var c=b(this);if(!c[0]){return false;}if(typeof(d)=="string"&&d.charAt(0)!="_"&&a[d]){if(d!="showPrompt"&&d!="hide"&&d!="hideAll"){a.init.apply(c);}return a[d].apply(c,Array.prototype.slice.call(arguments,1));}else{if(typeof d=="object"||!d){a.init.apply(c,arguments);return a.attach.apply(c);}else{b.error("Method "+d+" does not exist in jQuery.validationEngine");}}};b.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:true,focusFirstField:true,promptPosition:"topRight",bindMethod:"bind",inlineAjax:false,ajaxFormValidation:false,ajaxFormValidationURL:false,ajaxFormValidationMethod:"get",onAjaxFormComplete:b.noop,onBeforeAjaxFormValidation:b.noop,onValidationComplete:false,doNotShowAllErrosOnSubmit:false,custom_error_messages:{},binded:true,showArrow:true,isError:false,ajaxValidCache:{},autoPositionUpdate:false,InvalidFields:[],onSuccess:false,onFailure:false,autoHidePrompt:false,autoHideDelay:10000,fadeDuration:0.3,prettySelect:false,usePrefix:"",useSuffix:""}};b(function(){b.validationEngine.defaults.promptPosition=a.isRTL()?"topLeft":"topRight";});})(jQuery);

/*
select2 plugin
Copyright 2012 Igor Vaynberg
 
Version: 3.0 Timestamp: Tue Jul 31 21:09:16 PDT 2012

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this work except in
compliance with the License. You may obtain a copy of the License in the LICENSE file, or at:

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is
distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and limitations under the License.
*/
(function(a){if(typeof a.fn.each2=="undefined"){a.fn.extend({each2:function(f){var d=a([0]),e=-1,b=this.length;while(++e<b&&(d.context=d[0]=this[e])&&f.call(d[0],e,d)!==false){}return this;}});}})(jQuery);(function(i,k){if(window.Select2!==k){return;}var c,e,v,A,s,a;c={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(B){B=B.which?B.which:B;switch(B){case c.LEFT:case c.RIGHT:case c.UP:case c.DOWN:return true;}return false;},isControl:function(B){B=B.which?B.which:B;switch(B){case c.SHIFT:case c.CTRL:case c.ALT:return true;}if(B.metaKey){return true;}return false;},isFunctionKey:function(B){B=B.which?B.which:B;return B>=112&&B<=123;}};s=(function(){var B=1;return function(){return B++;};}());function u(B){if(B&&typeof(B)==="string"){return B.replace(/&/g,"&amp;");}else{return B;}}function b(E,F){var D=0,B=F.length,C;if(typeof E==="undefined"){return -1;}if(E.constructor===String){for(;D<B;D=D+1){if(E.localeCompare(F[D])===0){return D;}}}else{for(;D<B;D=D+1){C=F[D];if(C.constructor===String){if(C.localeCompare(E)===0){return D;}}else{if(C===E){return D;}}}}return -1;}function p(C,B){if(C===B){return true;}if(C===k||B===k){return false;}if(C===null||B===null){return false;}if(C.constructor===String){return C.localeCompare(B)===0;}if(B.constructor===String){return B.localeCompare(C)===0;}return false;}function l(C,E){var F,D,B;if(C===null||C.length<1){return[];}F=C.split(E);for(D=0,B=F.length;D<B;D=D+1){F[D]=i.trim(F[D]);}return F;}function m(B){return B.outerWidth()-B.width();}function y(C){var B="keyup-change-value";C.bind("keydown",function(){if(i.data(C,B)===k){i.data(C,B,C.val());}});C.bind("keyup",function(){var D=i.data(C,B);if(D!==k&&C.val()!==D){i.removeData(C,B);C.trigger("keyup-change");}});}i(document).delegate("*","mousemove",function(B){i.data(document,"select2-lastpos",{x:B.pageX,y:B.pageY});});function t(B){B.bind("mousemove",function(D){var C=i.data(document,"select2-lastpos");if(C===k||C.x!==D.pageX||C.y!==D.pageY){i(D.target).trigger("mousemove-filtered",D);}});}function g(D,B){var C;return function(){window.clearTimeout(C);C=window.setTimeout(B,D);};}function z(D){var B=false,C;return function(){if(B===false){C=D();B=true;}return C;};}function f(B,D){var C=g(B,function(E){D.trigger("scroll-debounced",E);});D.bind("scroll",function(E){if(b(E.target,D.get())>=0){C(E);}});}function d(B){B.preventDefault();B.stopPropagation();}function x(C){if(!a){var B=C[0].currentStyle||window.getComputedStyle(C[0],null);a=i("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:B.fontSize,fontFamily:B.fontFamily,fontStyle:B.fontStyle,fontWeight:B.fontWeight,letterSpacing:B.letterSpacing,textTransform:B.textTransform,whiteSpace:"nowrap"});i("body").append(a);}a.text(C.val());return a.width();}function h(F,E,C){var D=F.toUpperCase().indexOf(E.toUpperCase()),B=E.length;if(D<0){C.push(F);return;}C.push(F.substring(0,D));C.push("<span class='select2-match'>");C.push(F.substring(D,D+B));C.push("</span>");C.push(F.substring(D+B,F.length));}function o(C){var E,B=0,D=null,F=C.quietMillis||100;return function(G){window.clearTimeout(E);E=window.setTimeout(function(){B+=1;var H=B,J=C.data,K=C.transport||i.ajax,I=C.type||"GET";J=J.call(this,G.term,G.page,G.context);if(null!==D){D.abort();}D=K.call(null,{url:C.url,dataType:C.dataType,data:J,type:I,success:function(M){if(H<B){return;}var L=C.results(M,G.page);G.callback(L);}});},F);};}function q(B){var D=B,C,E=function(F){return""+F.text;};if(!i.isArray(D)){E=D.text;if(!i.isFunction(E)){C=D.text;E=function(F){return F[C];};}D=D.results;}return function(H){var G=H.term,F={};if(G===""){H.callback({results:D});return;}F.results=i(D).filter(function(){return H.matcher(G,E(this));}).get();H.callback(F);};}function n(B){if(i.isFunction(B)){return B;}return function(E){var D=E.term,C={results:[]};i(B).each(function(){var F=this.text!==k,G=F?this.text:this;if(D===""||E.matcher(D,G)){C.results.push(F?this:{id:this,text:this});}});E.callback(C);};}function j(B,C){if(i.isFunction(B)){return true;}if(!B){return fasle;}throw new Error("formatterName must be a function or a falsy value");}function r(B){return i.isFunction(B)?B():B;}i(document).ready(function(){i(document).delegate("*","mousedown touchend",function(D){var C=i(D.target).closest("div.select2-container").get(0),B;if(C){i(document).find("div.select2-container-active").each(function(){if(this!==C){i(this).data("select2").blur();}});}else{C=i(D.target).closest("div.select2-drop").get(0);i(document).find("div.select2-drop-active").each(function(){if(this!==C){i(this).data("select2").blur();}});}C=i(D.target);B=C.attr("for");if("LABEL"===D.target.tagName&&B&&B.length>0){C=i("#"+B);C=C.data("select2");if(C!==k){C.focus();D.preventDefault();}}});});function w(B,C){var D=function(){};D.prototype=new B;D.prototype.constructor=D;D.prototype.parent=B.prototype;D.prototype=i.extend(D.prototype,C);return D;}e=w(Object,{bind:function(C){var B=this;return function(){C.apply(B,arguments);};},init:function(D){var C,B,E=".select2-results";this.opts=D=this.prepareOpts(D);this.id=D.id;if(D.element.data("select2")!==k&&D.element.data("select2")!==null){this.destroy();}this.enabled=true;this.container=this.createContainer();this.containerId="s2id"+s();this.container.attr("id",this.containerId);this.body=z(function(){return D.element.closest("body");});if(D.element.attr("class")!==k){this.container.addClass(D.element.attr("class"));}this.container.css(r(D.containerCss));this.container.addClass(r(D.containerCssClass));this.opts.element.data("select2",this).hide().before(this.container);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");this.dropdown.addClass(r(D.dropdownCssClass));this.dropdown.data("select2",this);this.results=C=this.container.find(E);this.search=B=this.container.find("input.select2-input");B.attr("tabIndex",this.opts.element.attr("tabIndex"));this.resultsPage=0;this.context=null;this.initContainer();this.initContainerWidth();t(this.results);this.dropdown.delegate(E,"mousemove-filtered",this.bind(this.highlightUnderEvent));f(80,this.results);this.dropdown.delegate(E,"scroll-debounced",this.bind(this.loadMoreIfNeeded));if(i.fn.mousewheel){C.mousewheel(function(J,K,H,G){var I=C.scrollTop(),F;if(G>0&&I-G<=0){C.scrollTop(0);d(J);}else{if(G<0&&C.get(0).scrollHeight-C.scrollTop()+G<=C.height()){C.scrollTop(C.get(0).scrollHeight-C.height());d(J);}}});}y(B);B.bind("keyup-change",this.bind(this.updateResults));B.bind("focus",function(){B.addClass("select2-focused");if(B.val()===" "){B.val("");}});B.bind("blur",function(){B.removeClass("select2-focused");});this.dropdown.delegate(E,"mouseup",this.bind(function(F){if(i(F.target).closest(".select2-result-selectable:not(.select2-disabled)").length>0){this.highlightUnderEvent(F);this.selectHighlighted(F);}else{this.focusSearch();}d(F);}));this.dropdown.bind("click mouseup mousedown",function(F){F.stopPropagation();});if(i.isFunction(this.opts.initSelection)){this.initSelection();this.monitorSource();}if(D.element.is(":disabled")||D.element.is("[readonly='readonly']")){this.disable();}},destroy:function(){var B=this.opts.element.data("select2");if(B!==k){B.container.remove();B.dropdown.remove();B.opts.element.removeData("select2").unbind(".select2").show();}},prepareOpts:function(F){var D,C,B,E;D=F.element;if(D.get(0).tagName.toLowerCase()==="select"){this.select=C=F.element;}F.separator=F.separator||",";if(C){i.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in F){throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");}});}F=i.extend({},{populateResults:function(G,K,M){var L,J,O,I,H=this.opts.id,N=this;L=function(U,P,T){var V,R,aa,X,Z,Q,Y,W,S;for(V=0,R=U.length;V<R;V=V+1){aa=U[V];X=H(aa)!==k;Z=("children" in aa)&&aa.children.length>0;Q=i("<li></li>");Q.addClass("select2-results-dept-"+T);Q.addClass("select2-result");Q.addClass(X?"select2-result-selectable":"select2-result-unselectable");if(Z){Q.addClass("select2-result-with-children");}Q.addClass(N.opts.formatResultCssClass(aa));Y=i("<div></div>");Y.addClass("select2-result-label");S=F.formatResult(aa,Y,M);if(S!==k){Y.html(u(S));}Q.append(Y);if(Z){W=i("<ul></ul>");W.addClass("select2-result-sub");L(aa.children,W,T+1);Q.append(W);}Q.data("select2-data",aa);P.append(Q);}};L(K,G,0);}},i.fn.select2.defaults,F);if(typeof(F.id)!=="function"){B=F.id;F.id=function(G){return G[B];};}if(C){F.query=this.bind(function(J){var I={results:[],more:false},H=J.term,G,L,K;K=function(M,O){var N;if(M.is("option")){if(J.matcher(H,M.text(),M)){O.push({id:M.attr("value"),text:M.text(),element:M.get(),css:M.attr("class")});}}else{if(M.is("optgroup")){N={text:M.attr("label"),children:[],element:M.get(),css:M.attr("class")};M.children().each2(function(P,Q){K(Q,N.children);});if(N.children.length>0){O.push(N);}}}};G=D.children();if(this.getPlaceholder()!==k&&G.length>0){L=G[0];if(i(L).text()===""){G=G.not(L);}}G.each2(function(M,N){K(N,I.results);});J.callback(I);});F.id=function(G){return G.id;};F.formatResultCssClass=function(G){return G.css;};}else{if(!("query" in F)){if("ajax" in F){E=F.element.data("ajax-url");if(E&&E.length>0){F.ajax.url=E;}F.query=o(F.ajax);}else{if("data" in F){F.query=q(F.data);}else{if("tags" in F){F.query=n(F.tags);F.createSearchChoice=function(G){return{id:G,text:G};};F.initSelection=function(G,I){var H=[];i(l(G.val(),F.separator)).each(function(){var L=this,K=this,J=F.tags;if(i.isFunction(J)){J=J();}i(J).each(function(){if(p(this.id,L)){K=this.text;return false;}});H.push({id:L,text:K});});I(H);};}}}}}if(typeof(F.query)!=="function"){throw"query function not defined for Select2 "+F.element.attr("id");}return F;},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(B){if(this.opts.element.data("select2-change-triggered")!==true){this.initSelection();}}));},triggerChange:function(B){B=B||{};B=i.extend({},B,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",true);this.opts.element.trigger(B);this.opts.element.data("select2-change-triggered",false);this.opts.element.click();},enable:function(){if(this.enabled){return;}this.enabled=true;this.container.removeClass("select2-container-disabled");},disable:function(){if(!this.enabled){return;}this.close();this.enabled=false;this.container.addClass("select2-container-disabled");},opened:function(){return this.container.hasClass("select2-dropdown-open");},positionDropdown:function(){var F=this.container.offset(),L=this.container.outerHeight(),C=this.container.outerWidth(),E=this.dropdown.outerHeight(),I=i(window).scrollTop()+document.documentElement.clientHeight,B=F.top+L,J=B+E<=I,H=(F.top-E)>=this.body().scrollTop(),D=this.dropdown.hasClass("select2-drop-above"),K,G;if(D){K=true;if(!H&&J){K=false;}}else{K=false;if(!J&&H){K=true;}}if(K){B=F.top-E;this.container.addClass("select2-drop-above");this.dropdown.addClass("select2-drop-above");}else{this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above");}G={top:B,left:F.left,width:C};this.dropdown.css(G);},shouldOpen:function(){var B;if(this.opened()){return false;}B=jQuery.Event("open");this.opts.element.trigger(B);return !B.isDefaultPrevented();},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above");},open:function(){if(!this.shouldOpen()){return false;}window.setTimeout(this.bind(this.opening),1);return true;},opening:function(){var E=this.containerId,C="#"+E,B="scroll."+E,D="resize."+E;this.container.parents().each(function(){i(this).bind(B,function(){var F=i(C);if(F.length==0){i(this).unbind(B);}F.select2("close");});});i(window).bind(D,function(){var F=i(C);if(F.length==0){i(window).unbind(D);}F.select2("close");});this.clearDropdownAlignmentPreference();if(this.search.val()===" "){this.search.val("");}this.dropdown.css(r(this.opts.dropdownCss));this.dropdown.addClass("select2-drop-active");this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.updateResults(true);if(this.dropdown[0]!==this.body().children().last()[0]){this.dropdown.detach().appendTo(this.body());}this.dropdown.show();this.ensureHighlightVisible();this.positionDropdown();this.focusSearch();},close:function(){if(!this.opened()){return;}var B=this;this.container.parents().each(function(){i(this).unbind("scroll."+B.containerId);});i(window).unbind("resize."+this.containerId);this.clearDropdownAlignmentPreference();this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.opts.element.trigger(jQuery.Event("close"));},clearSearch:function(){},ensureHighlightVisible:function(){var E=this.results,D,B,I,H,F,G,C;B=this.highlight();if(B<0){return;}if(B==0){E.scrollTop(0);return;}D=E.find(".select2-result-selectable");I=i(D[B]);H=I.offset().top+I.outerHeight();if(B===D.length-1){C=E.find("li.select2-more-results");if(C.length>0){H=C.offset().top+C.outerHeight();}}F=E.offset().top+E.outerHeight();if(H>F){E.scrollTop(E.scrollTop()+(H-F));}G=I.offset().top-E.offset().top;if(G<0){E.scrollTop(E.scrollTop()+G);}},moveHighlight:function(E){var D=this.results.find(".select2-result-selectable"),C=this.highlight();while(C>-1&&C<D.length){C+=E;var B=i(D[C]);if(B.hasClass("select2-result-selectable")&&!B.hasClass("select2-disabled")){this.highlight(C);break;}}},highlight:function(B){var C=this.results.find(".select2-result-selectable").not(".select2-disabled");if(arguments.length===0){return b(C.filter(".select2-highlighted")[0],C.get());}if(B>=C.length){B=C.length-1;}if(B<0){B=0;}C.removeClass("select2-highlighted");i(C[B]).addClass("select2-highlighted");this.ensureHighlightVisible();},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length;},highlightUnderEvent:function(C){var B=i(C.target).closest(".select2-result-selectable");if(B.length>0&&!B.is(".select2-highlighted")){var D=this.results.find(".select2-result-selectable");this.highlight(D.index(B));}else{if(B.length==0){this.results.find(".select2-highlighted").removeClass("select2-highlighted");}}},loadMoreIfNeeded:function(){var F=this.results,E=F.find("li.select2-more-results"),I,H=-1,G=this.resultsPage+1,B=this,D=this.search.val(),C=this.context;if(E.length===0){return;}I=E.offset().top-F.offset().top-F.height();if(I<=0){E.addClass("select2-active");this.opts.query({term:D,page:G,context:C,matcher:this.opts.matcher,callback:this.bind(function(J){B.opts.populateResults.call(this,F,J.results,{term:D,page:G,context:C});if(J.more===true){E.detach().appendTo(F).text(B.opts.formatLoadMore(G+1));window.setTimeout(function(){B.loadMoreIfNeeded();},10);}else{E.remove();}B.positionDropdown();B.resultsPage=G;})});}},updateResults:function(C){var E=this.search,D=this.results,H=this.opts,I,B=this;if(C!==true&&(this.showSearchInput===false||!this.opened())){return;}E.addClass("select2-active");function G(){D.scrollTop(0);E.removeClass("select2-active");B.positionDropdown();}function F(J){D.html(u(J));G();}if(H.maximumSelectionSize>=1){I=this.data();if(i.isArray(I)&&I.length>=H.maximumSelectionSize&&j(H.formatSelectionTooBig,"formatSelectionTooBig")){F("<li class='select2-selection-limit'>"+H.formatSelectionTooBig(H.maximumSelectionSize)+"</li>");return;}}if(E.val().length<H.minimumInputLength&&j(H.formatInputTooShort,"formatInputTooShort")){F("<li class='select2-no-results'>"+H.formatInputTooShort(E.val(),H.minimumInputLength)+"</li>");return;}else{F("<li class='select2-searching'>"+H.formatSearching()+"</li>");}this.resultsPage=1;H.query({term:E.val(),page:this.resultsPage,context:null,matcher:H.matcher,callback:this.bind(function(K){var J;this.context=(K.context===k)?null:K.context;if(this.opts.createSearchChoice&&E.val()!==""){J=this.opts.createSearchChoice.call(null,E.val(),K.results);if(J!==k&&J!==null&&B.id(J)!==k&&B.id(J)!==null){if(i(K.results).filter(function(){return p(B.id(this),B.id(J));}).length===0){K.results.unshift(J);}}}if(K.results.length===0&&j(H.formatNoMatches,"formatNoMatches")){F("<li class='select2-no-results'>"+H.formatNoMatches(E.val())+"</li>");return;}D.empty();B.opts.populateResults.call(this,D,K.results,{term:E.val(),page:this.resultsPage,context:null});if(K.more===true&&j(H.formatLoadMore,"formatLoadMore")){D.append("<li class='select2-more-results'>"+u(H.formatLoadMore(this.resultsPage))+"</li>");window.setTimeout(function(){B.loadMoreIfNeeded();},10);}this.postprocessResults(K,C);G();})});},cancel:function(){this.close();},blur:function(){this.close();this.container.removeClass("select2-container-active");this.dropdown.removeClass("select2-drop-active");if(this.search[0]===document.activeElement){this.search.blur();}this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");},focusSearch:function(){window.setTimeout(this.bind(function(){this.search.focus();this.search.val(this.search.val());}),10);},selectHighlighted:function(){var B=this.highlight(),C=this.results.find(".select2-highlighted").not(".select2-disabled"),D=C.closest(".select2-result-selectable").data("select2-data");if(D){C.addClass("select2-disabled");this.highlight(B);this.onSelect(D);}},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder;},initContainerWidth:function(){function C(){var G,E,H,F,D;if(this.opts.width==="off"){return null;}else{if(this.opts.width==="element"){return this.opts.element.outerWidth()===0?"auto":this.opts.element.outerWidth()+"px";}else{if(this.opts.width==="copy"||this.opts.width==="resolve"){G=this.opts.element.attr("style");if(G!==k){E=G.split(";");for(F=0,D=E.length;F<D;F=F+1){H=E[F].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/);if(H!==null&&H.length>=1){return H[1];}}}if(this.opts.width==="resolve"){G=this.opts.element.css("width");if(G.indexOf("%")>0){return G;}return(this.opts.element.outerWidth()===0?"auto":this.opts.element.outerWidth()+"px");}return null;}else{if(i.isFunction(this.opts.width)){return this.opts.width();}else{return this.opts.width;}}}}}var B=C.call(this);if(B!==null){this.container.attr("style","width: "+B);}}});v=w(e,{createContainer:function(){var B=i("<div></div>",{"class":"select2-container"}).html(["    <a href='javascript:void(0)' class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop select2-offscreen'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return B;},opening:function(){this.search.show();this.parent.opening.apply(this,arguments);this.dropdown.removeClass("select2-offscreen");},close:function(){if(!this.opened()){return;}this.parent.close.apply(this,arguments);this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show();},focus:function(){this.close();this.selection.focus();},isFocused:function(){return this.selection[0]===document.activeElement;},cancel:function(){this.parent.cancel.apply(this,arguments);this.selection.focus();},initContainer:function(){var D,C=this.container,E=this.dropdown,B=false;this.selection=D=C.find(".select2-choice");this.search.bind("keydown",this.bind(function(F){if(!this.enabled){return;}if(F.which===c.PAGE_UP||F.which===c.PAGE_DOWN){d(F);return;}if(this.opened()){switch(F.which){case c.UP:case c.DOWN:this.moveHighlight((F.which===c.UP)?-1:1);d(F);return;case c.TAB:case c.ENTER:this.selectHighlighted();d(F);return;case c.ESC:this.cancel(F);d(F);return;}}else{if(F.which===c.TAB||c.isControl(F)||c.isFunctionKey(F)||F.which===c.ESC){return;}this.open();if(F.which===c.ENTER){return;}}}));this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1");}));this.search.bind("blur",this.bind(function(){if(!this.opened()){this.container.removeClass("select2-container-active");}window.setTimeout(this.bind(function(){this.selection.attr("tabIndex",this.opts.element.attr("tabIndex"));}),10);}));D.bind("mousedown",this.bind(function(F){B=true;if(this.opened()){this.close();this.selection.focus();}else{if(this.enabled){this.open();}}B=false;}));E.bind("mousedown",this.bind(function(){this.search.focus();}));D.bind("focus",this.bind(function(){this.container.addClass("select2-container-active");this.search.attr("tabIndex","-1");}));D.bind("blur",this.bind(function(){if(!this.opened()){this.container.removeClass("select2-container-active");}window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"));}),10);}));D.bind("keydown",this.bind(function(G){if(!this.enabled){return;}if(G.which===c.PAGE_UP||G.which===c.PAGE_DOWN){d(G);return;}if(G.which===c.TAB||c.isControl(G)||c.isFunctionKey(G)||G.which===c.ESC||G.which==c.ENTER){return;}if(G.which==c.DELETE){if(this.opts.allowClear){this.clear();}return;}this.open();if(G.which===c.ENTER){d(G);return;}if(G.which<48){d(G);return;}var F=String.fromCharCode(G.which).toLowerCase();if(G.shiftKey){F=F.toUpperCase();}this.search.val(F);d(G);}));D.delegate("abbr","mousedown",this.bind(function(F){if(!this.enabled){return;}this.clear();d(F);this.close();this.triggerChange();this.selection.focus();}));this.setPlaceholder();this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active");}));},clear:function(){this.opts.element.val("");this.selection.find("span").empty();this.selection.removeData("select2-data");this.setPlaceholder();},initSelection:function(){var C;if(this.opts.element.val()===""){this.close();this.setPlaceholder();}else{var B=this;this.opts.initSelection.call(null,this.opts.element,function(D){if(D!==k&&D!==null){B.updateSelection(D);B.close();B.setPlaceholder();}});}},prepareOpts:function(){var B=this.parent.prepareOpts.apply(this,arguments);if(B.element.get(0).tagName.toLowerCase()==="select"){B.initSelection=function(C,E){var D=C.find(":selected");if(i.isFunction(E)){E({id:D.attr("value"),text:D.text()});}};}return B;},setPlaceholder:function(){var B=this.getPlaceholder();if(this.opts.element.val()===""&&B!==k){if(this.select&&this.select.find("option:first").text()!==""){return;}this.selection.find("span").html(u(B));this.selection.addClass("select2-default");this.selection.find("abbr").hide();}},postprocessResults:function(E,C){var D=0,B=this,F=true;this.results.find(".select2-result-selectable").each2(function(G,H){if(p(B.id(H.data("select2-data")),B.opts.element.val())){D=G;return false;}});this.highlight(D);if(C===true){F=this.showSearchInput=E.results.length>=this.opts.minimumResultsForSearch;this.dropdown.find(".select2-search")[F?"removeClass":"addClass"]("select2-search-hidden");i(this.dropdown,this.container)[F?"addClass":"removeClass"]("select2-with-searchbox");}},onSelect:function(C){var B=this.opts.element.val();this.opts.element.val(this.id(C));this.updateSelection(C);this.close();this.selection.focus();if(!p(B,this.id(C))){this.triggerChange();}},updateSelection:function(D){var B=this.selection.find("span"),C;this.selection.data("select2-data",D);B.empty();C=this.opts.formatSelection(D,B);if(C!==k){B.append(u(C));}this.selection.removeClass("select2-default");if(this.opts.allowClear&&this.getPlaceholder()!==k){this.selection.find("abbr").show();}},val:function(){var D,C=null,B=this;if(arguments.length===0){return this.opts.element.val();}D=arguments[0];if(this.select){this.select.val(D).find(":selected").each2(function(E,F){C={id:F.attr("value"),text:F.text()};return false;});this.updateSelection(C);this.setPlaceholder();}else{if(this.opts.initSelection===k){throw new Error("cannot call val() if initSelection() is not defined");}if(!D){this.clear();return;}this.opts.initSelection(this.opts.element,function(E){B.opts.element.val(!E?"":B.id(E));B.updateSelection(E);B.setPlaceholder();});}},clearSearch:function(){this.search.val("");},data:function(C){var B;if(arguments.length===0){B=this.selection.data("select2-data");if(B==k){B=null;}return B;}else{if(!C||C===""){this.clear();}else{this.opts.element.val(!C?"":this.id(C));this.updateSelection(C);}}}});A=w(e,{createContainer:function(){var B=i("<div></div>",{"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return B;},prepareOpts:function(){var B=this.parent.prepareOpts.apply(this,arguments);if(B.element.get(0).tagName.toLowerCase()==="select"){B.initSelection=function(C,E){var D=[];C.find(":selected").each2(function(F,G){D.push({id:G.attr("value"),text:G.text()});});if(i.isFunction(E)){E(D);}};}return B;},initContainer:function(){var B=".select2-choices",C;this.searchContainer=this.container.find(".select2-search-field");this.selection=C=this.container.find(B);this.search.bind("keydown",this.bind(function(E){if(!this.enabled){return;}if(E.which===c.BACKSPACE&&this.search.val()===""){this.close();var F,D=C.find(".select2-search-choice-focus");if(D.length>0){this.unselect(D.first());this.search.width(10);d(E);return;}F=C.find(".select2-search-choice");if(F.length>0){F.last().addClass("select2-search-choice-focus");}}else{C.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");}if(this.opened()){switch(E.which){case c.UP:case c.DOWN:this.moveHighlight((E.which===c.UP)?-1:1);d(E);return;case c.ENTER:case c.TAB:this.selectHighlighted();d(E);return;case c.ESC:this.cancel(E);d(E);return;}}if(E.which===c.TAB||c.isControl(E)||c.isFunctionKey(E)||E.which===c.BACKSPACE||E.which===c.ESC||E.which===c.ENTER){return;}this.open();if(E.which===c.PAGE_UP||E.which===c.PAGE_DOWN){d(E);}}));this.search.bind("keyup",this.bind(this.resizeSearch));this.search.bind("blur",this.bind(function(){this.container.removeClass("select2-container-active");}));this.container.delegate(B,"mousedown",this.bind(function(D){if(!this.enabled){return;}this.clearPlaceholder();this.open();this.focusSearch();D.preventDefault();}));this.container.delegate(B,"focus",this.bind(function(){if(!this.enabled){return;}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");this.clearPlaceholder();}));this.clearSearch();},enable:function(){if(this.enabled){return;}this.parent.enable.apply(this,arguments);this.search.removeAttr("disabled");},disable:function(){if(!this.enabled){return;}this.parent.disable.apply(this,arguments);this.search.attr("disabled",true);},initSelection:function(){var C;if(this.opts.element.val()===""){this.updateSelection([]);this.close();this.clearSearch();}if(this.select||this.opts.element.val()!==""){var B=this;this.opts.initSelection.call(null,this.opts.element,function(D){if(D!==k&&D!==null){B.updateSelection(D);B.close();B.clearSearch();}});}},clearSearch:function(){var B=this.getPlaceholder();if(B!==k&&this.getVal().length===0&&this.search.hasClass("select2-focused")===false){this.search.val(B).addClass("select2-default");this.resizeSearch();}else{this.search.val(" ").width(10);}},clearPlaceholder:function(){if(this.search.hasClass("select2-default")){this.search.val("").removeClass("select2-default");}else{if(this.search.val()===" "){this.search.val("");}}},opening:function(){this.parent.opening.apply(this,arguments);this.clearPlaceholder();this.resizeSearch();this.focusSearch();},close:function(){if(!this.opened()){return;}this.parent.close.apply(this,arguments);},focus:function(){this.close();this.search.focus();},isFocused:function(){return this.search.hasClass("select2-focused");},updateSelection:function(E){var D=[],C=[],B=this;i(E).each(function(){if(b(B.id(this),D)<0){D.push(B.id(this));C.push(this);}});E=C;this.selection.find(".select2-search-choice").remove();i(E).each(function(){B.addSelectedChoice(this);});B.postprocessResults();},onSelect:function(B){this.addSelectedChoice(B);if(this.select){this.postprocessResults();}if(this.opts.closeOnSelect){this.close();this.search.width(10);}else{this.search.width(10);this.resizeSearch();if(this.countSelectableResults()>0){this.positionDropdown();}else{this.close();}}this.triggerChange({added:B});this.focusSearch();},cancel:function(){this.close();this.focusSearch();},addSelectedChoice:function(D){var B=i("<li class='select2-search-choice'>    <div></div>    <a href='javascript:void(0)' class='select2-search-choice-close' tabindex='-1'></a></li>"),F=this.id(D),E=this.getVal(),C;C=this.opts.formatSelection(D,B);B.find("div").replaceWith("<div>"+u(C)+"</div>");B.find(".select2-search-choice-close").bind("mousedown",d).bind("click dblclick",this.bind(function(G){if(!this.enabled){return;}i(G.target).closest(".select2-search-choice").fadeOut("fast").animate({width:"hide"},50,this.bind(function(){this.unselect(i(G.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch();})).dequeue();d(G);})).bind("focus",this.bind(function(){if(!this.enabled){return;}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");}));B.data("select2-data",D);B.insertBefore(this.searchContainer);E.push(F);this.setVal(E);},unselect:function(C){var E=this.getVal(),D,B;C=C.closest(".select2-search-choice");if(C.length===0){throw"Invalid argument: "+C+". Must be .select2-search-choice";}D=C.data("select2-data");B=b(this.id(D),E);if(B>=0){E.splice(B,1);this.setVal(E);if(this.select){this.postprocessResults();}}C.remove();this.triggerChange({removed:D});},postprocessResults:function(){var D=this.getVal(),E=this.results.find(".select2-result-selectable"),C=this.results.find(".select2-result-with-children"),B=this;E.each2(function(G,F){var H=B.id(F.data("select2-data"));if(b(H,D)>=0){F.addClass("select2-disabled").removeClass("select2-result-selectable");}else{F.removeClass("select2-disabled").addClass("select2-result-selectable");}});C.each2(function(F,G){if(G.find(".select2-result-selectable").length==0){G.addClass("select2-disabled");}else{G.removeClass("select2-disabled");}});E.each2(function(G,F){if(!F.hasClass("select2-disabled")&&F.hasClass("select2-result-selectable")){B.highlight(0);return false;}});},resizeSearch:function(){var G,E,D,B,C,F=m(this.search);G=x(this.search)+10;E=this.search.offset().left;D=this.selection.width();B=this.selection.offset().left;C=D-(E-B)-F;if(C<G){C=D-F;}if(C<40){C=D-F;}this.search.width(C);},getVal:function(){var B;if(this.select){B=this.select.val();return B===null?[]:B;}else{B=this.opts.element.val();return l(B,this.opts.separator);}},setVal:function(C){var B;if(this.select){this.select.val(C);}else{B=[];i(C).each(function(){if(b(this,B)<0){B.push(this);}});this.opts.element.val(B.length===0?"":B.join(this.opts.separator));}},val:function(){var D,C=[],B=this;if(arguments.length===0){return this.getVal();}D=arguments[0];if(!D){this.opts.element.val("");this.updateSelection([]);this.clearSearch();return;}this.setVal(D);if(this.select){this.select.find(":selected").each(function(){C.push({id:i(this).attr("value"),text:i(this).text()});});this.updateSelection(C);}else{if(this.opts.initSelection===k){throw new Error("val() cannot be called if initSelection() is not defined");}this.opts.initSelection(this.opts.element,function(F){var E=i(F).map(B.id);B.setVal(E);B.updateSelection(F);B.clearSearch();});}this.clearSearch();},onSortStart:function(){if(this.select){throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");}this.search.width(0);this.searchContainer.hide();},onSortEnd:function(){var C=[],B=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){C.push(B.opts.id(i(this).data("select2-data")));});this.setVal(C);this.triggerChange();},data:function(C){var B=this,D;if(arguments.length===0){return this.selection.find(".select2-search-choice").map(function(){return i(this).data("select2-data");}).get();}else{if(!C){C=[];}D=i.map(C,function(E){return B.opts.id(E);});this.setVal(D);this.updateSelection(C);this.clearSearch();}}});i.fn.select2=function(){var E=Array.prototype.slice.call(arguments,0),F,D,G,C,B=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];this.each(function(){if(E.length===0||typeof(E[0])==="object"){F=E.length===0?{}:i.extend({},E[0]);F.element=i(this);if(F.element.get(0).tagName.toLowerCase()==="select"){C=F.element.attr("multiple");}else{C=F.multiple||false;if("tags" in F){F.multiple=C=true;}}D=C?new A():new v();D.init(F);}else{if(typeof(E[0])==="string"){if(b(E[0],B)<0){throw"Unknown method: "+E[0];}G=k;D=i(this).data("select2");if(D===k){return;}if(E[0]==="container"){G=D.container;}else{G=D[E[0]].apply(D,E.slice(1));}if(G!==k){return false;}}else{throw"Invalid arguments to select2 plugin: "+E;}}});return(G===k)?this:G;};i.fn.select2.defaults={width:"copy",closeOnSelect:true,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(B,C,E){var D=[];h(B.text,E.term,D);return D.join("");},formatSelection:function(C,B){return C.text;},formatResultCssClass:function(B){return k;},formatNoMatches:function(){return"No matches found";},formatInputTooShort:function(B,C){return"Please enter "+(C-B.length)+" more characters";},formatSelectionTooBig:function(B){return"You can only select "+B+" items";},formatLoadMore:function(B){return"Loading more results...";},formatSearching:function(){return"Searching...";},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(B){return B.id;},matcher:function(B,C){return C.toUpperCase().indexOf(B.toUpperCase())>=0;}};window.Select2={query:{ajax:o,local:q,tags:n},util:{debounce:g,markMatch:h},"class":{"abstract":e,single:v,multi:A}};}(jQuery));

/**
 * @version: 1.0 Alpha-1
 * @author: Coolite Inc. http://www.coolite.com/
 * @date: 2008-05-13
 * @copyright: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 * @license: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/. 
 * @website: http://www.datejs.com/
 */
Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]};(function(){var b=Date,a=b.prototype,d=b.CultureInfo,g=function(i,h){if(!h){h=2;}return("000"+i).slice(h*-1);};a.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this;};a.setTimeToNow=function(){var h=new Date();this.setHours(h.getHours());this.setMinutes(h.getMinutes());this.setSeconds(h.getSeconds());this.setMilliseconds(h.getMilliseconds());return this;};b.today=function(){return new Date().clearTime();};b.compare=function(i,h){if(isNaN(i)||isNaN(h)){throw new Error(i+" - "+h);}else{if(i instanceof Date&&h instanceof Date){return(i<h)?-1:(i>h)?1:0;}else{throw new TypeError(i+" - "+h);}}};b.equals=function(i,h){return(i.compareTo(h)===0);};b.getDayNumberFromName=function(j){var q=d.dayNames,h=d.abbreviatedDayNames,p=d.shortestDayNames,l=j.toLowerCase();for(var k=0;k<q.length;k++){if(q[k].toLowerCase()==l||h[k].toLowerCase()==l||p[k].toLowerCase()==l){return k;}}return -1;};b.getMonthNumberFromName=function(j){var o=d.monthNames,h=d.abbreviatedMonthNames,l=j.toLowerCase();for(var k=0;k<o.length;k++){if(o[k].toLowerCase()==l||h[k].toLowerCase()==l){return k;}}return -1;};b.isLeapYear=function(h){return((h%4===0&&h%100!==0)||h%400===0);};b.getDaysInMonth=function(h,i){return[31,(b.isLeapYear(h)?29:28),31,30,31,30,31,31,30,31,30,31][i];};b.getTimezoneAbbreviation=function(l){var k=d.timezones,j;for(var h=0;h<k.length;h++){if(k[h].offset===l){return k[h].name;}}return null;};b.getTimezoneOffset=function(h){var l=d.timezones,k;for(var j=0;j<l.length;j++){if(l[j].name===h.toUpperCase()){return l[j].offset;}}return null;};a.clone=function(){return new Date(this.getTime());};a.compareTo=function(h){return Date.compare(this,h);};a.equals=function(h){return Date.equals(this,h||new Date());};a.between=function(i,h){return this.getTime()>=i.getTime()&&this.getTime()<=h.getTime();};a.isAfter=function(h){return this.compareTo(h||new Date())===1;};a.isBefore=function(h){return(this.compareTo(h||new Date())===-1);};a.isToday=function(){return this.isSameDay(new Date());};a.isSameDay=function(h){return this.clone().clearTime().equals(h.clone().clearTime());};a.addMilliseconds=function(h){this.setMilliseconds(this.getMilliseconds()+h);return this;};a.addSeconds=function(h){return this.addMilliseconds(h*1000);};a.addMinutes=function(h){return this.addMilliseconds(h*60000);};a.addHours=function(h){return this.addMilliseconds(h*3600000);};a.addDays=function(h){this.setDate(this.getDate()+h);return this;};a.addWeeks=function(h){return this.addDays(h*7);};a.addMonths=function(h){var i=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+h);this.setDate(Math.min(i,b.getDaysInMonth(this.getFullYear(),this.getMonth())));return this;};a.addYears=function(h){return this.addMonths(h*12);};a.add=function(i){if(typeof i=="number"){this._orient=i;return this;}var h=i;if(h.milliseconds){this.addMilliseconds(h.milliseconds);}if(h.seconds){this.addSeconds(h.seconds);}if(h.minutes){this.addMinutes(h.minutes);}if(h.hours){this.addHours(h.hours);}if(h.weeks){this.addWeeks(h.weeks);}if(h.months){this.addMonths(h.months);}if(h.years){this.addYears(h.years);}if(h.days){this.addDays(h.days);}return this;};var e,f,c;a.getWeek=function(){var p,o,m,l,k,j,i,h,t,q;e=(!e)?this.getFullYear():e;f=(!f)?this.getMonth()+1:f;c=(!c)?this.getDate():c;if(f<=2){p=e-1;o=(p/4|0)-(p/100|0)+(p/400|0);m=((p-1)/4|0)-((p-1)/100|0)+((p-1)/400|0);t=o-m;k=0;j=c-1+(31*(f-1));}else{p=e;o=(p/4|0)-(p/100|0)+(p/400|0);m=((p-1)/4|0)-((p-1)/100|0)+((p-1)/400|0);t=o-m;k=t+1;j=c+((153*(f-3)+2)/5)+58+t;}i=(p+o)%7;l=(j+i-k)%7;h=(j+3-l)|0;if(h<0){q=53-((i-t)/5|0);}else{if(h>364+t){q=1;}else{q=(h/7|0)+1;}}e=f=c=null;return q;};a.getISOWeek=function(){e=this.getUTCFullYear();f=this.getUTCMonth()+1;c=this.getUTCDate();return g(this.getWeek());};a.setWeek=function(h){return this.moveToDayOfWeek(1).addWeeks(h-this.getWeek());};b._validate=function(k,j,h,i){if(typeof k=="undefined"){return false;}else{if(typeof k!="number"){throw new TypeError(k+" is not a Number.");}else{if(k<j||k>h){throw new RangeError(k+" is not a valid value for "+i+".");}}}return true;};b.validateMillisecond=function(h){return b._validate(h,0,999,"millisecond");};b.validateSecond=function(h){return b._validate(h,0,59,"second");};b.validateMinute=function(h){return b._validate(h,0,59,"minute");};b.validateHour=function(h){return b._validate(h,0,23,"hour");};b.validateDay=function(i,h,j){return b._validate(i,1,b.getDaysInMonth(h,j),"day");};b.validateMonth=function(h){return b._validate(h,0,11,"month");};b.validateYear=function(h){return b._validate(h,0,9999,"year");};a.set=function(h){if(b.validateMillisecond(h.millisecond)){this.addMilliseconds(h.millisecond-this.getMilliseconds());}if(b.validateSecond(h.second)){this.addSeconds(h.second-this.getSeconds());}if(b.validateMinute(h.minute)){this.addMinutes(h.minute-this.getMinutes());}if(b.validateHour(h.hour)){this.addHours(h.hour-this.getHours());}if(b.validateMonth(h.month)){this.addMonths(h.month-this.getMonth());}if(b.validateYear(h.year)){this.addYears(h.year-this.getFullYear());}if(b.validateDay(h.day,this.getFullYear(),this.getMonth())){this.addDays(h.day-this.getDate());}if(h.timezone){this.setTimezone(h.timezone);}if(h.timezoneOffset){this.setTimezoneOffset(h.timezoneOffset);}if(h.week&&b._validate(h.week,0,53,"week")){this.setWeek(h.week);}return this;};a.moveToFirstDayOfMonth=function(){return this.set({day:1});};a.moveToLastDayOfMonth=function(){return this.set({day:b.getDaysInMonth(this.getFullYear(),this.getMonth())});};a.moveToNthOccurrence=function(i,j){var h=0;if(j>0){h=j-1;}else{if(j===-1){this.moveToLastDayOfMonth();if(this.getDay()!==i){this.moveToDayOfWeek(i,-1);}return this;}}return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(i,+1).addWeeks(h);};a.moveToDayOfWeek=function(h,i){var j=(h-this.getDay()+7*(i||+1))%7;return this.addDays((j===0)?j+=7*(i||+1):j);};a.moveToMonth=function(j,h){var i=(j-this.getMonth()+12*(h||+1))%12;return this.addMonths((i===0)?i+=12*(h||+1):i);};a.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/86400000)+1;};a.getTimezone=function(){return b.getTimezoneAbbreviation(this.getUTCOffset());};a.setTimezoneOffset=function(j){var h=this.getTimezoneOffset(),i=Number(j)*-6/10;return this.addMinutes(i-h);};a.setTimezone=function(h){return this.setTimezoneOffset(b.getTimezoneOffset(h));};a.hasDaylightSavingTime=function(){return(Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset());};a.isDaylightSavingTime=function(){return(this.hasDaylightSavingTime()&&new Date().getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset());};a.getUTCOffset=function(){var i=this.getTimezoneOffset()*-10/6,h;if(i<0){h=(i-10000).toString();return h.charAt(0)+h.substr(2);}else{h=(i+10000).toString();return"+"+h.substr(1);}};a.getElapsed=function(h){return(h||new Date())-this;};if(!a.toISOString){a.toISOString=function(){function h(i){return i<10?"0"+i:i;}return'"'+this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+'Z"';};}a._toString=a.toString;a.toString=function(j){var h=this;if(j&&j.length==1){var k=d.formatPatterns;h.t=h.toString;switch(j){case"d":return h.t(k.shortDate);case"D":return h.t(k.longDate);case"F":return h.t(k.fullDateTime);case"m":return h.t(k.monthDay);case"r":return h.t(k.rfc1123);case"s":return h.t(k.sortableDateTime);case"t":return h.t(k.shortTime);case"T":return h.t(k.longTime);case"u":return h.t(k.universalSortableDateTime);case"y":return h.t(k.yearMonth);}}var i=function(l){switch(l*1){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th";}};return j?j.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(l){if(l.charAt(0)==="\\"){return l.replace("\\","");}h.h=h.getHours;switch(l){case"hh":return g(h.h()<13?(h.h()===0?12:h.h()):(h.h()-12));case"h":return h.h()<13?(h.h()===0?12:h.h()):(h.h()-12);case"HH":return g(h.h());case"H":return h.h();case"mm":return g(h.getMinutes());case"m":return h.getMinutes();case"ss":return g(h.getSeconds());case"s":return h.getSeconds();case"yyyy":return g(h.getFullYear(),4);case"yy":return g(h.getFullYear());case"dddd":return d.dayNames[h.getDay()];case"ddd":return d.abbreviatedDayNames[h.getDay()];case"dd":return g(h.getDate());case"d":return h.getDate();case"MMMM":return d.monthNames[h.getMonth()];case"MMM":return d.abbreviatedMonthNames[h.getMonth()];case"MM":return g((h.getMonth()+1));case"M":return h.getMonth()+1;case"t":return h.h()<12?d.amDesignator.substring(0,1):d.pmDesignator.substring(0,1);case"tt":return h.h()<12?d.amDesignator:d.pmDesignator;case"S":return i(h.getDate());default:return l;}}):this._toString();};}());(function(){var v=Date,g=v.prototype,w=v.CultureInfo,o=Number.prototype;g._orient=+1;g._nth=null;g._is=false;g._same=false;g._isSecond=false;o._dateElement="day";g.next=function(){this._orient=+1;return this;};v.next=function(){return v.today().next();};g.last=g.prev=g.previous=function(){this._orient=-1;return this;};v.last=v.prev=v.previous=function(){return v.today().last();};g.is=function(){this._is=true;return this;};g.same=function(){this._same=true;this._isSecond=false;return this;};g.today=function(){return this.same().day();};g.weekday=function(){if(this._is){this._is=false;return(!this.is().sat()&&!this.is().sun());}return false;};g.at=function(i){return(typeof i==="string")?v.parse(this.toString("d")+" "+i):this.set(i);};o.fromNow=o.after=function(i){var j={};j[this._dateElement]=this;return((!i)?new Date():i.clone()).add(j);};o.ago=o.before=function(i){var j={};j[this._dateElement]=this*-1;return((!i)?new Date():i.clone()).add(j);};var e=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),h=("january february march april may june july august september october november december").split(/\s/),n=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),p=("Milliseconds Seconds Minutes Hours Date Week Month FullYear").split(/\s/),b=("final first second third fourth fifth").split(/\s/),y;g.toObject=function(){var k={};for(var j=0;j<n.length;j++){k[n[j].toLowerCase()]=this["get"+p[j]]();}return k;};v.fromObject=function(i){i.week=null;return Date.today().set(i);};var x=function(i){return function(){if(this._is){this._is=false;return this.getDay()==i;}if(this._nth!==null){if(this._isSecond){this.addSeconds(this._orient*-1);}this._isSecond=false;var k=this._nth;this._nth=null;var j=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(i,k);if(this>j){throw new RangeError(v.getDayName(i)+" does not occur "+k+" times in the month of "+v.getMonthName(j.getMonth())+" "+j.getFullYear()+".");}return this;}return this.moveToDayOfWeek(i,this._orient);};};var f=function(i){return function(){var k=v.today(),j=i-k.getDay();if(i===0&&w.firstDayOfWeek===1&&k.getDay()!==0){j=j+7;}return k.addDays(j);};};for(var u=0;u<e.length;u++){v[e[u].toUpperCase()]=v[e[u].toUpperCase().substring(0,3)]=u;v[e[u]]=v[e[u].substring(0,3)]=f(u);g[e[u]]=g[e[u].substring(0,3)]=x(u);}var z=function(i){return function(){if(this._is){this._is=false;return this.getMonth()===i;}return this.moveToMonth(i,this._orient);};};var m=function(i){return function(){return v.today().set({month:i,day:1});};};for(var t=0;t<h.length;t++){v[h[t].toUpperCase()]=v[h[t].toUpperCase().substring(0,3)]=t;v[h[t]]=v[h[t].substring(0,3)]=m(t);g[h[t]]=g[h[t].substring(0,3)]=z(t);}var c=function(i){return function(){if(this._isSecond){this._isSecond=false;return this;}if(this._same){this._same=this._is=false;var C=this.toObject(),B=(arguments[0]||new Date()).toObject(),A="",l=i.toLowerCase();for(var j=(n.length-1);j>-1;j--){A=n[j].toLowerCase();if(C[A]!=B[A]){return false;}if(l==A){break;}}return true;}if(i.substring(i.length-1)!="s"){i+="s";}return this["add"+i](this._orient);};};var d=function(i){return function(){this._dateElement=i;return this;};};for(var s=0;s<n.length;s++){y=n[s].toLowerCase();g[y]=g[y+"s"]=c(n[s]);o[y]=o[y+"s"]=d(y);}g._ss=c("Second");var a=function(i){return function(j){if(this._same){return this._ss(arguments[0]);}if(j||j===0){return this.moveToNthOccurrence(j,i);}this._nth=i;if(i===2&&(j===undefined||j===null)){this._isSecond=true;return this.addSeconds(this._orient);}return this;};};for(var q=0;q<b.length;q++){g[b[q]]=(q===0)?a(-1):a(q);}}());(function(){Date.Parsing={Exception:function(i){this.message="Parse error at '"+i.substring(0,10)+" ...'";}};var a=Date.Parsing;var c=a.Operators={rtoken:function(i){return function(j){var k=j.match(i);if(k){return([k[0],j.substring(k[0].length)]);}else{throw new a.Exception(j);}};},token:function(i){return function(j){return c.rtoken(new RegExp("^s*"+j+"s*"))(j);};},stoken:function(i){return c.rtoken(new RegExp("^"+i));},until:function(i){return function(j){var k=[],m=null;while(j.length){try{m=i.call(this,j);}catch(l){k.push(m[0]);j=m[1];continue;}break;}return[k,j];};},many:function(i){return function(j){var m=[],k=null;while(j.length){try{k=i.call(this,j);}catch(l){return[m,j];}m.push(k[0]);j=k[1];}return[m,j];};},optional:function(i){return function(j){var k=null;try{k=i.call(this,j);}catch(l){return[null,j];}return[k[0],k[1]];};},not:function(i){return function(j){try{i.call(this,j);}catch(k){return[null,j];}throw new a.Exception(j);};},ignore:function(i){return i?function(j){var k=null;k=i.call(this,j);return[null,k[1]];}:null;},product:function(){var k=arguments[0],l=Array.prototype.slice.call(arguments,1),m=[];for(var j=0;j<k.length;j++){m.push(c.each(k[j],l));}return m;},cache:function(k){var i={},j=null;return function(l){try{j=i[l]=(i[l]||k.call(this,l));}catch(m){j=i[l]=m;}if(j instanceof a.Exception){throw j;}else{return j;}};},any:function(){var i=arguments;return function(k){var l=null;for(var j=0;j<i.length;j++){if(i[j]==null){continue;}try{l=(i[j].call(this,k));}catch(m){l=null;}if(l){return l;}}throw new a.Exception(k);};},each:function(){var i=arguments;return function(k){var n=[],l=null;for(var j=0;j<i.length;j++){if(i[j]==null){continue;}try{l=(i[j].call(this,k));}catch(m){throw new a.Exception(k);}n.push(l[0]);k=l[1];}return[n,k];};},all:function(){var j=arguments,i=i;return i.each(i.optional(j));},sequence:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;if(i.length==1){return i[0];}return function(o){var p=null,t=null;var v=[];for(var n=0;n<i.length;n++){try{p=i[n].call(this,o);}catch(u){break;}v.push(p[0]);try{t=j.call(this,p[1]);}catch(m){t=null;break;}o=t[1];}if(!p){throw new a.Exception(o);}if(t){throw new a.Exception(t[1]);}if(k){try{p=k.call(this,p[1]);}catch(l){throw new a.Exception(p[1]);}}return[v,(p?p[1]:o)];};},between:function(j,k,i){i=i||j;var l=c.each(c.ignore(j),k,c.ignore(i));return function(m){var n=l.call(this,m);return[[n[0][0],r[0][2]],n[1]];};},list:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;return(i instanceof Array?c.each(c.product(i.slice(0,-1),c.ignore(j)),i.slice(-1),c.ignore(k)):c.each(c.many(c.each(i,c.ignore(j))),px,c.ignore(k)));},set:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;return function(B){var l=null,n=null,m=null,o=null,t=[[],B],A=false;for(var v=0;v<i.length;v++){m=null;n=null;l=null;A=(i.length==1);try{l=i[v].call(this,B);}catch(y){continue;}o=[[l[0]],l[1]];if(l[1].length>0&&!A){try{m=j.call(this,l[1]);}catch(z){A=true;}}else{A=true;}if(!A&&m[1].length===0){A=true;}if(!A){var w=[];for(var u=0;u<i.length;u++){if(v!=u){w.push(i[u]);}}n=c.set(w,j).call(this,m[1]);if(n[0].length>0){o[0]=o[0].concat(n[0]);o[1]=n[1];}}if(o[1].length<t[1].length){t=o;}if(t[1].length===0){break;}}if(t[0].length===0){return t;}if(k){try{m=k.call(this,t[1]);}catch(x){throw new a.Exception(t[1]);}t[1]=m[1];}return t;};},forward:function(i,j){return function(k){return i[j].call(this,k);};},replace:function(j,i){return function(k){var l=j.call(this,k);return[i,l[1]];};},process:function(j,i){return function(k){var l=j.call(this,k);return[i.call(this,l[0]),l[1]];};},min:function(i,j){return function(k){var l=j.call(this,k);if(l[0].length<i){throw new a.Exception(k);}return l;};}};var h=function(i){return function(){var j=null,m=[];if(arguments.length>1){j=Array.prototype.slice.call(arguments);}else{if(arguments[0] instanceof Array){j=arguments[0];}}if(j){for(var l=0,k=j.shift();l<k.length;l++){j.unshift(k[l]);m.push(i.apply(null,j));j.shift();return m;}}else{return i.apply(null,arguments);}};};var g="optional not ignore cache".split(/\s/);for(var d=0;d<g.length;d++){c[g[d]]=h(c[g[d]]);}var f=function(i){return function(){if(arguments[0] instanceof Array){return i.apply(null,arguments[0]);}else{return i.apply(null,arguments);}};};var e="each any all".split(/\s/);for(var b=0;b<e.length;b++){c[e[b]]=f(c[e[b]]);}}());(function(){var e=Date,l=e.prototype,f=e.CultureInfo;var h=function(m){var n=[];for(var g=0;g<m.length;g++){if(m[g] instanceof Array){n=n.concat(h(m[g]));}else{if(m[g]){n.push(m[g]);}}}return n;};e.Grammar={};e.Translator={hour:function(g){return function(){this.hour=Number(g);};},minute:function(g){return function(){this.minute=Number(g);};},second:function(g){return function(){this.second=Number(g);};},meridian:function(g){return function(){this.meridian=g.slice(0,1).toLowerCase();};},timezone:function(g){return function(){var m=g.replace(/[^\d\+\-]/g,"");if(m.length){this.timezoneOffset=Number(m);}else{this.timezone=g.toLowerCase();}};},day:function(g){var m=g[0];return function(){this.day=Number(m.match(/\d+/)[0]);};},month:function(g){return function(){this.month=(g.length==3)?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(g)/4:Number(g)-1;};},year:function(g){return function(){var m=Number(g);this.year=((g.length>2)?m:(m+(((m+2000)<f.twoDigitYearMax)?2000:1900)));};},rday:function(g){return function(){switch(g){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break;}};},finishExact:function(g){g=(g instanceof Array)?g:[g];for(var n=0;n<g.length;n++){if(g[n]){g[n].call(this);}}var m=new Date();if((this.hour||this.minute)&&(!this.month&&!this.year&&!this.day)){this.day=m.getDate();}if(!this.year){this.year=m.getFullYear();}if(!this.month&&this.month!==0){this.month=m.getMonth();}if(!this.day){this.day=1;}if(!this.hour){this.hour=0;}if(!this.minute){this.minute=0;}if(!this.second){this.second=0;}if(this.meridian&&this.hour){if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12;}else{if(this.meridian=="a"&&this.hour==12){this.hour=0;}}}if(this.day>e.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.");}var o=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){o.set({timezone:this.timezone});}else{if(this.timezoneOffset){o.set({timezoneOffset:this.timezoneOffset});}}return o;},finish:function(g){g=(g instanceof Array)?h(g):[g];if(g.length===0){return null;}for(var q=0;q<g.length;q++){if(typeof g[q]=="function"){g[q].call(this);}}var n=e.today();if(this.now&&!this.unit&&!this.operator){return new Date();}else{if(this.now){n=new Date();}}var s=!!(this.days&&this.days!==null||this.orient||this.operator);var t,p,o;o=((this.orient=="past"||this.operator=="subtract")?-1:1);if(!this.now&&"hour minute second".indexOf(this.unit)!=-1){n.setTimeToNow();}if(this.month||this.month===0){if("year day hour minute second".indexOf(this.unit)!=-1){this.value=this.month+1;this.month=null;s=true;}}if(!s&&this.weekday&&!this.day&&!this.days){var m=Date[this.weekday]();this.day=m.getDate();if(!this.month){this.month=m.getMonth();}this.year=m.getFullYear();}if(s&&this.weekday&&this.unit!="month"){this.unit="day";t=(e.getDayNumberFromName(this.weekday)-n.getDay());p=7;this.days=t?((t+(o*p))%p):(o*p);}if(this.month&&this.unit=="day"&&this.operator){this.value=(this.month+1);this.month=null;}if(this.value!=null&&this.month!=null&&this.year!=null){this.day=this.value*1;}if(this.month&&!this.day&&this.value){n.set({day:this.value*1});if(!s){this.day=this.value*1;}}if(!this.month&&this.value&&this.unit=="month"&&!this.now){this.month=this.value;s=true;}if(s&&(this.month||this.month===0)&&this.unit!="year"){this.unit="month";t=(this.month-n.getMonth());p=12;this.months=t?((t+(o*p))%p):(o*p);this.month=null;}if(!this.unit){this.unit="day";}if(!this.value&&this.operator&&this.operator!==null&&this[this.unit+"s"]&&this[this.unit+"s"]!==null){this[this.unit+"s"]=this[this.unit+"s"]+((this.operator=="add")?1:-1)+(this.value||0)*o;}else{if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1;}this[this.unit+"s"]=this.value*o;}}if(this.meridian&&this.hour){if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12;}else{if(this.meridian=="a"&&this.hour==12){this.hour=0;}}}if(this.weekday&&!this.day&&!this.days){var m=Date[this.weekday]();this.day=m.getDate();if(m.getMonth()!==n.getMonth()){this.month=m.getMonth();}}if((this.month||this.month===0)&&!this.day){this.day=1;}if(!this.orient&&!this.operator&&this.unit=="week"&&this.value&&!this.day&&!this.month){return Date.today().setWeek(this.value);}if(s&&this.timezone&&this.day&&this.days){this.day=this.days;}return(s)?n.add(this):n.set(this);}};var i=e.Parsing.Operators,d=e.Grammar,k=e.Translator,b;d.datePartDelimiter=i.rtoken(/^([\s\-\.\,\/\x27]+)/);d.timePartDelimiter=i.stoken(":");d.whiteSpace=i.rtoken(/^\s*/);d.generalDelimiter=i.rtoken(/^(([\s\,]|at|@|on)+)/);var a={};d.ctoken=function(p){var o=a[p];if(!o){var q=f.regexPatterns;var n=p.split(/\s+/),m=[];for(var g=0;g<n.length;g++){m.push(i.replace(i.rtoken(q[n[g]]),n[g]));}o=a[p]=i.any.apply(null,m);}return o;};d.ctoken2=function(g){return i.rtoken(f.regexPatterns[g]);};d.h=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),k.hour));d.hh=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2])/),k.hour));d.H=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),k.hour));d.HH=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3])/),k.hour));d.m=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),k.minute));d.mm=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),k.minute));d.s=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),k.second));d.ss=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),k.second));d.hms=i.cache(i.sequence([d.H,d.m,d.s],d.timePartDelimiter));d.t=i.cache(i.process(d.ctoken2("shortMeridian"),k.meridian));d.tt=i.cache(i.process(d.ctoken2("longMeridian"),k.meridian));d.z=i.cache(i.process(i.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),k.timezone));d.zz=i.cache(i.process(i.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),k.timezone));d.zzz=i.cache(i.process(d.ctoken2("timezone"),k.timezone));d.timeSuffix=i.each(i.ignore(d.whiteSpace),i.set([d.tt,d.zzz]));d.time=i.each(i.optional(i.ignore(i.stoken("T"))),d.hms,d.timeSuffix);d.d=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1]|\d)/),i.optional(d.ctoken2("ordinalSuffix"))),k.day));d.dd=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1])/),i.optional(d.ctoken2("ordinalSuffix"))),k.day));d.ddd=d.dddd=i.cache(i.process(d.ctoken("sun mon tue wed thu fri sat"),function(g){return function(){this.weekday=g;};}));d.M=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d|\d)/),k.month));d.MM=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d)/),k.month));d.MMM=d.MMMM=i.cache(i.process(d.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),k.month));d.y=i.cache(i.process(i.rtoken(/^(\d\d?)/),k.year));d.yy=i.cache(i.process(i.rtoken(/^(\d\d)/),k.year));d.yyy=i.cache(i.process(i.rtoken(/^(\d\d?\d?\d?)/),k.year));d.yyyy=i.cache(i.process(i.rtoken(/^(\d\d\d\d)/),k.year));b=function(){return i.each(i.any.apply(null,arguments),i.not(d.ctoken2("timeContext")));};d.day=b(d.d,d.dd);d.month=b(d.M,d.MMM);d.year=b(d.yyyy,d.yy);d.orientation=i.process(d.ctoken("past future"),function(g){return function(){this.orient=g;};});d.operator=i.process(d.ctoken("add subtract"),function(g){return function(){this.operator=g;};});d.rday=i.process(d.ctoken("yesterday tomorrow today now"),k.rday);d.unit=i.process(d.ctoken("second minute hour day week month year"),function(g){return function(){this.unit=g;};});d.value=i.process(i.rtoken(/^\d\d?(st|nd|rd|th)?/),function(g){return function(){this.value=g.replace(/\D/g,"");};});d.expression=i.set([d.rday,d.operator,d.value,d.unit,d.orientation,d.ddd,d.MMM]);b=function(){return i.set(arguments,d.datePartDelimiter);};d.mdy=b(d.ddd,d.month,d.day,d.year);d.ymd=b(d.ddd,d.year,d.month,d.day);d.dmy=b(d.ddd,d.day,d.month,d.year);d.date=function(g){return((d[f.dateElementOrder]||d.mdy).call(this,g));};d.format=i.process(i.many(i.any(i.process(i.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(g){if(d[g]){return d[g];}else{throw e.Parsing.Exception(g);}}),i.process(i.rtoken(/^[^dMyhHmstz]+/),function(g){return i.ignore(i.stoken(g));}))),function(g){return i.process(i.each.apply(null,g),k.finishExact);});var j={};var c=function(g){return j[g]=(j[g]||d.format(g)[0]);};d.formats=function(m){if(m instanceof Array){var n=[];for(var g=0;g<m.length;g++){n.push(c(m[g]));}return i.any.apply(null,n);}else{return c(m);}};d._formats=d.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]);d._start=i.process(i.set([d.date,d.time,d.expression],d.generalDelimiter,d.whiteSpace),k.finish);d.start=function(g){try{var m=d._formats.call({},g);if(m[1].length===0){return m;}}catch(n){}return d._start.call({},g);};e._parse=e.parse;e.parse=function(g){var m=null;if(!g){return null;}if(g instanceof Date){return g;}try{m=e.Grammar.start.call({},g.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"));}catch(n){return null;}return((m[1].length===0)?m[0]:null);};e.getParseFunction=function(m){var g=e.Grammar.formats(m);return function(n){var o=null;try{o=g.call({},n);}catch(p){return null;}return((o[1].length===0)?o[0]:null);};};e.parseExact=function(g,m){return e.getParseFunction(m)(g);};}());